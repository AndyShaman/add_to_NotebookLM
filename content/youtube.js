/*! For license information please see app.js.LICENSE.txt */
(()=>{var t={633:(t,e,n)=>{var r=n(738).default;function o(){"use strict";t.exports=o=function(){return n},t.exports.__esModule=!0,t.exports.default=t.exports;var e,n={},i=Object.prototype,s=i.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},c="function"==typeof Symbol?Symbol:{},u=c.iterator||"@@iterator",l=c.asyncIterator||"@@asyncIterator",d=c.toStringTag||"@@toStringTag";function p(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{p({},"")}catch(e){p=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var o=e&&e.prototype instanceof b?e:b,i=Object.create(o.prototype),s=new R(r||[]);return a(i,"_invoke",{value:O(t,n,s)}),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}n.wrap=h;var m="suspendedStart",y="suspendedYield",g="executing",v="completed",_={};function b(){}function x(){}function w(){}var E={};p(E,u,(function(){return this}));var k=Object.getPrototypeOf,S=k&&k(k(q([])));S&&S!==i&&s.call(S,u)&&(E=S);var L=w.prototype=b.prototype=Object.create(E);function C(t){["next","throw","return"].forEach((function(e){p(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function n(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==r(d)&&s.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(d).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var o;a(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}})}function O(t,n,r){var o=m;return function(i,s){if(o===g)throw Error("Generator is already running");if(o===v){if("throw"===i)throw s;return{value:e,done:!0}}for(r.method=i,r.arg=s;;){var a=r.delegate;if(a){var c=A(a,r);if(c){if(c===_)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===m)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var u=f(t,n,r);if("normal"===u.type){if(o=r.done?v:y,u.arg===_)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=v,r.method="throw",r.arg=u.arg)}}}function A(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),_;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,_;var s=i.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,_):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,_)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function q(t){if(t||""===t){var n=t[u];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(s.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(r(t)+" is not iterable")}return x.prototype=w,a(L,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:x,configurable:!0}),x.displayName=p(w,d,"GeneratorFunction"),n.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===x||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,p(t,d,"GeneratorFunction")),t.prototype=Object.create(L),t},n.awrap=function(t){return{__await:t}},C(T.prototype),p(T.prototype,l,(function(){return this})),n.AsyncIterator=T,n.async=function(t,e,r,o,i){void 0===i&&(i=Promise);var s=new T(h(t,e,r,o),i);return n.isGeneratorFunction(e)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},C(L),p(L,d,"Generator"),p(L,u,(function(){return this})),p(L,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},n.values=q,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&s.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,o){return a.type="throw",a.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=s.call(i,"catchLoc"),u=s.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&s.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,_):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),_},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),N(n),_}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;N(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:q(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),_}},n}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},738:t=>{function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},756:(t,e,n)=>{var r=n(633)();t.exports=r;try{regeneratorRuntime=r}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e,n,r,o,i,s){try{var a=t[i](s),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,o)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var s=t.apply(e,n);function a(t){r(s,o,i,a,c,"next",t)}function c(t){r(s,o,i,a,c,"throw",t)}a(void 0)}))}}var i=n(756),s=n.n(i),a="undefined"!=typeof window?window.app=window.app||{}:self.app=self.app||{},c={};a.analytics={init:function(t,e,n){c.token=t,c.distinct_id=e;var r=0,o=0,i=0;try{var s=Number(n),a=Date.now()-s;i=Math.floor(a/864e5),r=Math.floor(a/2592e6),o=Math.floor(a/31536e6)}catch(t){console.log(t)}c.mAge=r,c.yAge=o,c.dAge=i},track:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=chrome.runtime.getManifest(),o=r&&r.version?r.version:"none",i=c.token,s={distinct_id:c.distinct_id,token:i,mage:c.mAge,yage:c.yAge,dage:c.dAge,version_id:o,url:location.protocol+"//"+location.host+location.pathname+location.search},a={event:t,properties:Object.assign(s,e)},u=""+btoa(unescape(encodeURIComponent(JSON.stringify(a))));return navigator.userAgent.toLowerCase().indexOf("firefox")>-1||!1!==n||chrome.runtime.sendMessage({cmd:"noop_request",url:u},(function(){})),u}};const u=a;function l(){for(var t=document.querySelectorAll("script"),e=0;e<t.length;e++){var n=t[e].textContent;if(-1!==n.indexOf("window.ytcsi")||-1!==n.indexOf("INNERTUBE_API_KEY")){if(null==/"accept_language":"(.*?)"/gm.exec(n))continue;var r=/"accept_language":"(.*?)"/gm.exec(n),o=/"INNERTUBE_CONTEXT_CLIENT_NAME":([0-9]*)/gm.exec(n),i=/"INNERTUBE_CONTEXT_CLIENT_VERSION":"(.*?)"/gm.exec(n),s=/"INNERTUBE_CONTEXT_GL":"(.*?)"/gm.exec(n),a=/"INNERTUBE_CONTEXT_HL":"(.*?)"/gm.exec(n),c=/"DEVICE":"(.*?)"/gm.exec(n),u=/"ID_TOKEN":"(.*?)"/gm.exec(n),l=/"PAGE_CL":(.*?),/gm.exec(n),d=/"PAGE_BUILD_LABEL":"(.*?)"/gm.exec(n),p=/"INNERTUBE_API_KEY":"(.*?)"/gm.exec(n),h=/"DELEGATED_SESSION_ID":"(.*?)"/gm.exec(n),f=/"SESSION_INDEX":"(.*?)"/gm.exec(n);if(!("visitorData"in ytcfg)){var m=/"visitorData":"(.*?)"/gm.exec(n);ytcfg.visitorData=null!==m?m[1]:""}ytcfg=Object.assign(ytcfg,{accept_language:null!==r?r[1]:"",INNERTUBE_CONTEXT_CLIENT_NAME:null!==o?o[1]:"",INNERTUBE_API_KEY:null!==p?p[1]:"",INNERTUBE_CONTEXT_CLIENT_VERSION:null!==i?i[1]:"",DEVICE:null!==c?c[1]:"",ID_TOKEN:null!==u?u[1]:"",PAGE_CL:null!==l?l[1]:"",PAGE_BUILD_LABEL:null!==d?d[1]:"",DELEGATED_SESSION_ID:null!==h?h[1]:"",INNERTUBE_CONTEXT_GL:null!==s?s[1]:"",INNERTUBE_CONTEXT_HL:null!==a?a[1]:"",SESSION_INDEX:null!==f?f[1]:""})}}}function d(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:document;null!==e&&null!==t&&(Element.prototype.matches||(Element.prototype.webkitMatchesSelector?Element.prototype.matches=Element.prototype.webkitMatchesSelector:Element.prototype.mozMatchesSelector?Element.prototype.matches=Element.prototype.mozMatchesSelector:Element.prototype.msMatchesSelector&&(Element.prototype.matches=Element.prototype.msMatchesSelector)),r.addEventListener(t,(function(t){for(var r,o=t.target;o&&o.matches&&!(r=o.matches(e));)o=o.parentElement;r&&n.apply(o,[t])})))}function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(e){return setTimeout(e,t)}))}function h(){return f.apply(this,arguments)}function f(){return(f=o(s().mark((function t(){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:document.querySelector('[data-type="create-notebook"]').classList.remove("ytlm-choice-display-none"),document.querySelector('[data-type="choose-notebook"]').classList.remove("ytlm-choice-display-none"),e(document.querySelectorAll(".ytlm-choose-notebook")).forEach((function(t){t.classList.add("ytlm-choice-display-none")})),document.querySelector(".ytlm-add-notebook-new-item")&&document.querySelector(".ytlm-add-notebook-new-item").remove(),(n=document.querySelector('[data-type="back"] input'))&&(n.value="");case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}const m="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,y="9.40.0",g=globalThis;function v(){return _(g),g}function _(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||y,e[y]=e[y]||{}}function b(t,e,n=g){const r=n.__SENTRY__=n.__SENTRY__||{},o=r[y]=r[y]||{};return o[t]||(o[t]=e())}const x=["debug","info","warn","error","log","assert","trace"],w={};function E(t){if(!("console"in g))return t();const e=g.console,n={},r=Object.keys(w);r.forEach((t=>{const r=w[t];n[t]=e[t],e[t]=r}));try{return t()}finally{r.forEach((t=>{e[t]=n[t]}))}}function k(){I().enabled=!0}function S(){I().enabled=!1}function L(){return I().enabled}function C(...t){A("log",...t)}function T(...t){A("warn",...t)}function O(...t){A("error",...t)}function A(t,...e){m&&L()&&E((()=>{g.console[t](`Sentry Logger [${t}]:`,...e)}))}function I(){return m?b("loggerSettings",(()=>({enabled:!1}))):{enabled:!1}}const N={enable:k,disable:S,isEnabled:L,log:C,warn:T,error:O},R=[];function q(t,e){for(const n of e)n?.afterAllSetup&&n.afterAllSetup(t)}function P(t,e,n){if(n[e.name])m&&N.log(`Integration skipped because it was already installed: ${e.name}`);else{if(n[e.name]=e,-1===R.indexOf(e.name)&&"function"==typeof e.setupOnce&&(e.setupOnce(),R.push(e.name)),e.setup&&"function"==typeof e.setup&&e.setup(t),"function"==typeof e.preprocessEvent){const n=e.preprocessEvent.bind(e);t.on("preprocessEvent",((e,r)=>n(e,r,t)))}if("function"==typeof e.processEvent){const n=e.processEvent.bind(e),r=Object.assign(((e,r)=>n(e,r,t)),{id:e.name});t.addEventProcessor(r)}m&&N.log(`Integration installed: ${e.name}`)}}function D(t){const e=[];t.message&&e.push(t.message);try{const n=t.exception.values[t.exception.values.length-1];n?.value&&(e.push(n.value),n.type&&e.push(`${n.type}: ${n.value}`))}catch{}return e}const M=Object.prototype.toString;function j(t){switch(M.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return W(t,Error)}}function $(t,e){return M.call(t)===`[object ${e}]`}function U(t){return $(t,"ErrorEvent")}function B(t){return $(t,"DOMError")}function z(t){return $(t,"String")}function H(t){return"object"==typeof t&&null!==t&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function V(t){return null===t||H(t)||"object"!=typeof t&&"function"!=typeof t}function G(t){return $(t,"Object")}function F(t){return"undefined"!=typeof Event&&W(t,Event)}function Y(t){return Boolean(t?.then&&"function"==typeof t.then)}function W(t,e){try{return t instanceof e}catch{return!1}}function X(t){return!("object"!=typeof t||null===t||!t.__isVue&&!t._isVue)}const Z=g;function J(t,e={}){if(!t)return"<unknown>";try{let n=t;const r=5,o=[];let i=0,s=0;const a=" > ",c=a.length;let u;const l=Array.isArray(e)?e:e.keyAttrs,d=!Array.isArray(e)&&e.maxStringLength||80;for(;n&&i++<r&&(u=K(n,l),!("html"===u||i>1&&s+o.length*c+u.length>=d));)o.push(u),s+=u.length,n=n.parentNode;return o.reverse().join(a)}catch{return"<unknown>"}}function K(t,e){const n=t,r=[];if(!n?.tagName)return"";if(Z.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const o=e?.length?e.filter((t=>n.getAttribute(t))).map((t=>[t,n.getAttribute(t)])):null;if(o?.length)o.forEach((t=>{r.push(`[${t[0]}="${t[1]}"]`)}));else{n.id&&r.push(`#${n.id}`);const t=n.className;if(t&&z(t)){const e=t.split(/\s+/);for(const t of e)r.push(`.${t}`)}}const i=["aria-label","type","name","title","alt"];for(const t of i){const e=n.getAttribute(t);e&&r.push(`[${t}="${e}"]`)}return r.join("")}function Q(){try{return Z.document.location.href}catch{return""}}function tt(t,e=0){return"string"!=typeof t||0===e||t.length<=e?t:`${t.slice(0,e)}...`}function et(t,e){if(!Array.isArray(t))return"";const n=[];for(let e=0;e<t.length;e++){const r=t[e];try{X(r)?n.push("[VueViewModel]"):n.push(String(r))}catch{n.push("[value cannot be serialized]")}}return n.join(e)}function nt(t,e,n=!1){return!!z(t)&&($(e,"RegExp")?e.test(t):!!z(e)&&(n?t===e:t.includes(e)))}function rt(t,e=[],n=!1){return e.some((e=>nt(t,e,n)))}function ot(t,e,n){if(!(e in t))return;const r=t[e];if("function"!=typeof r)return;const o=n(r);"function"==typeof o&&st(o,r);try{t[e]=o}catch{m&&N.log(`Failed to replace method "${e}" in object`,t)}}function it(t,e,n){try{Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}catch{m&&N.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function st(t,e){try{const n=e.prototype||{};t.prototype=e.prototype=n,it(t,"__sentry_original__",e)}catch{}}function at(t){return t.__sentry_original__}function ct(t){if(j(t))return{message:t.message,name:t.name,stack:t.stack,...lt(t)};if(F(t)){const e={type:t.type,target:ut(t.target),currentTarget:ut(t.currentTarget),...lt(t)};return"undefined"!=typeof CustomEvent&&W(t,CustomEvent)&&(e.detail=t.detail),e}return t}function ut(t){try{return e=t,"undefined"!=typeof Element&&W(e,Element)?J(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}var e}function lt(t){if("object"==typeof t&&null!==t){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}return{}}function dt(t=function(){const t=g;return t.crypto||t.msCrypto}()){let e=()=>16*Math.random();try{if(t?.randomUUID)return t.randomUUID().replace(/-/g,"");t?.getRandomValues&&(e=()=>{const e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch{}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(t=>(t^(15&e())>>t/4).toString(16)))}function pt(t){return t.exception?.values?.[0]}function ht(t){const{message:e,event_id:n}=t;if(e)return e;const r=pt(t);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function ft(t,e,n){const r=t.exception=t.exception||{},o=r.values=r.values||[],i=o[0]=o[0]||{};i.value||(i.value=e||""),i.type||(i.type=n||"Error")}function mt(t,e){const n=pt(t);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...e},e&&"data"in e){const t={...r?.data,...e.data};n.mechanism.data=t}}function yt(t){if(function(t){try{return t.__sentry_captured__}catch{}}(t))return!0;try{it(t,"__sentry_captured__",!0)}catch{}return!1}const gt=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],vt=(t={})=>{let e;return{name:"EventFilters",setup(n){const r=n.getOptions();e=bt(t,r)},processEvent(n,r,o){if(!e){const n=o.getOptions();e=bt(t,n)}return function(t,e){if(t.type){if("transaction"===t.type&&function(t,e){if(!e?.length)return!1;const n=t.transaction;return!!n&&rt(n,e)}(t,e.ignoreTransactions))return m&&N.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${ht(t)}`),!0}else{if(function(t,e){if(!e?.length)return!1;return D(t).some((t=>rt(t,e)))}(t,e.ignoreErrors))return m&&N.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${ht(t)}`),!0;if(function(t){if(!t.exception?.values?.length)return!1;return!t.message&&!t.exception.values.some((t=>t.stacktrace||t.type&&"Error"!==t.type||t.value))}(t))return m&&N.warn(`Event dropped due to not having an error message, error type or stacktrace.\nEvent: ${ht(t)}`),!0;if(function(t,e){if(!e?.length)return!1;const n=xt(t);return!!n&&rt(n,e)}(t,e.denyUrls))return m&&N.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${ht(t)}.\nUrl: ${xt(t)}`),!0;if(!function(t,e){if(!e?.length)return!0;const n=xt(t);return!n||rt(n,e)}(t,e.allowUrls))return m&&N.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${ht(t)}.\nUrl: ${xt(t)}`),!0}return!1}(n,e)?null:n}}},_t=(t={})=>({...vt(t),name:"InboundFilters"});function bt(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:gt],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]]}}function xt(t){try{const e=[...t.exception?.values??[]].reverse().find((t=>void 0===t.mechanism?.parent_id&&t.stacktrace?.frames?.length)),n=e?.stacktrace?.frames;return n?function(t=[]){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(n):null}catch{return m&&N.error(`Cannot extract url for event ${ht(t)}`),null}}function wt(){return Date.now()/1e3}let Et;function kt(){return(Et??(Et=function(){const{performance:t}=g;if(!t?.now||!t.timeOrigin)return wt;const e=t.timeOrigin;return()=>(e+t.now())/1e3}()))()}function St(t){const e=kt(),n={sid:dt(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(t){return{sid:`${t.sid}`,init:t.init,started:new Date(1e3*t.started).toISOString(),timestamp:new Date(1e3*t.timestamp).toISOString(),status:t.status,errors:t.errors,did:"number"==typeof t.did||"string"==typeof t.did?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}}}(n)};return t&&Lt(n,t),n}function Lt(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),t.did||e.did||(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||kt(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=32===e.sid.length?e.sid:dt()),void 0!==e.init&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),"number"==typeof e.started&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if("number"==typeof e.duration)t.duration=e.duration;else{const e=t.timestamp-t.started;t.duration=e>=0?e:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),"number"==typeof e.errors&&(t.errors=e.errors),e.status&&(t.status=e.status)}function Ct(t,e,n=2){if(!e||"object"!=typeof e||n<=0)return e;if(t&&0===Object.keys(e).length)return t;const r={...t};for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=Ct(r[t],e[t],n-1));return r}function Tt(){return dt()}function Ot(){return dt().substring(16)}const At="_sentrySpan";function It(t,e){e?it(t,At,e):delete t[At]}function Nt(t){return t[At]}class Rt{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Tt(),sampleRand:Math.random()}}clone(){const t=new Rt;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,It(t,Nt(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Lt(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,e){return this._tags={...this._tags,[t]:e},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,e){return this._extra={...this._extra,[t]:e},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,e){return null===e?delete this._contexts[t]:this._contexts[t]=e,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const e="function"==typeof t?t(this):t,n=e instanceof Rt?e.getScopeData():G(e)?t:void 0,{tags:r,extra:o,user:i,contexts:s,level:a,fingerprint:c=[],propagationContext:u}=n||{};return this._tags={...this._tags,...r},this._extra={...this._extra,...o},this._contexts={...this._contexts,...s},i&&Object.keys(i).length&&(this._user=i),a&&(this._level=a),c.length&&(this._fingerprint=c),u&&(this._propagationContext=u),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,It(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Tt(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,e){const n="number"==typeof e?e:100;if(n<=0)return this;const r={timestamp:wt(),...t,message:t.message?tt(t.message,2048):t.message};return this._breadcrumbs.push(r),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Nt(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=Ct(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,e){const n=e?.event_id||dt();if(!this._client)return m&&N.warn("No client configured on scope - will not capture exception!"),n;const r=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:r,...e,event_id:n},this),n}captureMessage(t,e,n){const r=n?.event_id||dt();if(!this._client)return m&&N.warn("No client configured on scope - will not capture message!"),r;const o=new Error(t);return this._client.captureMessage(t,e,{originalException:t,syntheticException:o,...n,event_id:r},this),r}captureEvent(t,e){const n=e?.event_id||dt();return this._client?(this._client.captureEvent(t,{...e,event_id:n},this),n):(m&&N.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((t=>{t(this)})),this._notifyingListeners=!1)}}class qt{constructor(t,e){let n,r;n=t||new Rt,r=e||new Rt,this._stack=[{scope:n}],this._isolationScope=r}withScope(t){const e=this._pushScope();let n;try{n=t(e)}catch(t){throw this._popScope(),t}return Y(n)?n.then((t=>(this._popScope(),t)),(t=>{throw this._popScope(),t})):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function Pt(){const t=_(v());return t.stack=t.stack||new qt(b("defaultCurrentScope",(()=>new Rt)),b("defaultIsolationScope",(()=>new Rt)))}function Dt(t){return Pt().withScope(t)}function Mt(t,e){const n=Pt();return n.withScope((()=>(n.getStackTop().scope=t,e(t))))}function jt(t){return Pt().withScope((()=>t(Pt().getIsolationScope())))}function $t(t){const e=_(t);return e.acs?e.acs:{withIsolationScope:jt,withScope:Dt,withSetScope:Mt,withSetIsolationScope:(t,e)=>jt(e),getCurrentScope:()=>Pt().getScope(),getIsolationScope:()=>Pt().getIsolationScope()}}function Ut(){return $t(v()).getCurrentScope()}function Bt(){return $t(v()).getIsolationScope()}function zt(){return Ut().getClient()}function Ht(t){const e=t.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:o}=e,i={trace_id:n,span_id:o||Ot()};return r&&(i.parent_span_id=r),i}let Vt;const Gt=new WeakMap,Ft=()=>({name:"FunctionToString",setupOnce(){Vt=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=at(this),n=Gt.has(zt())&&void 0!==e?e:this;return Vt.apply(n,t)}}catch{}},setup(t){Gt.set(t,!0)}}),Yt="?",Wt=/\(error: (.*)\)/,Xt=/captureMessage|captureException/;function Zt(...t){const e=t.sort(((t,e)=>t[0]-e[0])).map((t=>t[1]));return(t,n=0,r=0)=>{const o=[],i=t.split("\n");for(let t=n;t<i.length;t++){const n=i[t];if(n.length>1024)continue;const s=Wt.test(n)?n.replace(Wt,"$1"):n;if(!s.match(/\S*Error: /)){for(const t of e){const e=t(s);if(e){o.push(e);break}}if(o.length>=50+r)break}}return function(t){if(!t.length)return[];const e=Array.from(t);/sentryWrapped/.test(Jt(e).function||"")&&e.pop();e.reverse(),Xt.test(Jt(e).function||"")&&(e.pop(),Xt.test(Jt(e).function||"")&&e.pop());return e.slice(0,50).map((t=>({...t,filename:t.filename||Jt(e).filename,function:t.function||Yt})))}(o.slice(r))}}function Jt(t){return t[t.length-1]||{}}const Kt="<anonymous>";function Qt(t){try{return t&&"function"==typeof t&&t.name||Kt}catch{return Kt}}function te(t){const e=t.exception;if(e){const t=[];try{return e.values.forEach((e=>{e.stacktrace.frames&&t.push(...e.stacktrace.frames)})),t}catch{return}}}const ee=()=>{let t;return{name:"Dedupe",processEvent(e){if(e.type)return e;try{if(function(t,e){if(!e)return!1;if(function(t,e){const n=t.message,r=e.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!re(t,e))return!1;if(!ne(t,e))return!1;return!0}(t,e))return!0;if(function(t,e){const n=oe(e),r=oe(t);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!re(t,e))return!1;if(!ne(t,e))return!1;return!0}(t,e))return!0;return!1}(e,t))return m&&N.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}};function ne(t,e){let n=te(t),r=te(e);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let t=0;t<r.length;t++){const e=r[t],o=n[t];if(e.filename!==o.filename||e.lineno!==o.lineno||e.colno!==o.colno||e.function!==o.function)return!1}return!0}function re(t,e){let n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch{return!1}}function oe(t){return t.exception?.values?.[0]}const ie={},se={};function ae(t,e){ie[t]=ie[t]||[],ie[t].push(e)}function ce(t,e){if(!se[t]){se[t]=!0;try{e()}catch(e){m&&N.error(`Error while instrumenting ${t}`,e)}}}function ue(t,e){const n=t&&ie[t];if(n)for(const r of n)try{r(e)}catch(e){m&&N.error(`Error while triggering instrumentation handler.\nType: ${t}\nName: ${Qt(r)}\nError:`,e)}}function le(){"console"in g&&x.forEach((function(t){t in g.console&&ot(g.console,t,(function(e){return w[t]=e,function(...e){ue("console",{args:e,level:t});const n=w[t];n?.apply(g.console,e)}}))}))}const de=g;function pe(){if(!("fetch"in de))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function he(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function fe(t,e=!1){e&&!function(){if("string"==typeof EdgeRuntime)return!0;if(!pe())return!1;if(he(de.fetch))return!0;let t=!1;const e=de.document;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow?.fetch&&(t=he(n.contentWindow.fetch)),e.head.removeChild(n)}catch(t){m&&N.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return t}()||ot(g,"fetch",(function(e){return function(...n){const r=new Error,{method:o,url:i}=function(t){if(0===t.length)return{method:"GET",url:""};if(2===t.length){const[e,n]=t;return{url:ye(e),method:me(n,"method")?String(n.method).toUpperCase():"GET"}}const e=t[0];return{url:ye(e),method:me(e,"method")?String(e.method).toUpperCase():"GET"}}(n),s={args:n,fetchData:{method:o,url:i},startTimestamp:1e3*kt(),virtualError:r,headers:ge(n)};return t||ue("fetch",{...s}),e.apply(g,n).then((async e=>(t?t(e):ue("fetch",{...s,endTimestamp:1e3*kt(),response:e}),e)),(t=>{if(ue("fetch",{...s,endTimestamp:1e3*kt(),error:t}),j(t)&&void 0===t.stack&&(t.stack=r.stack,it(t,"framesToPop",1)),t instanceof TypeError&&("Failed to fetch"===t.message||"Load failed"===t.message||"NetworkError when attempting to fetch resource."===t.message))try{const e=new URL(s.fetchData.url);t.message=`${t.message} (${e.host})`}catch{}throw t}))}}))}function me(t,e){return!!t&&"object"==typeof t&&!!t[e]}function ye(t){return"string"==typeof t?t:t?me(t,"url")?t.url:t.toString?t.toString():"":""}function ge(t){const[e,n]=t;try{if("object"==typeof n&&null!==n&&"headers"in n&&n.headers)return new Headers(n.headers);if(r=e,"undefined"!=typeof Request&&W(r,Request))return new Headers(e.headers)}catch{}var r}const ve=100;function _e(t,e){const n=zt(),r=Bt();if(!n)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:i=ve}=n.getOptions();if(i<=0)return;const s={timestamp:wt(),...t},a=o?E((()=>o(s,e))):s;null!==a&&(n.emit&&n.emit("beforeAddBreadcrumb",a,e),r.addBreadcrumb(a,i))}function be(t){return"warn"===t?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}function xe(t){return void 0===t?void 0:t>=400&&t<500?"warning":t>=500?"error":void 0}function we(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:r,relative:e[5]+n+r}}const Ee=g;let ke,Se,Le;function Ce(){if(!Ee.document)return;const t=ue.bind(null,"dom"),e=Te(t,!0);Ee.document.addEventListener("click",e,!1),Ee.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach((e=>{const n=Ee,r=n[e]?.prototype;r?.hasOwnProperty?.("addEventListener")&&(ot(r,"addEventListener",(function(e){return function(n,r,o){if("click"===n||"keypress"==n)try{const r=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},i=r[n]=r[n]||{refCount:0};if(!i.handler){const r=Te(t);i.handler=r,e.call(this,n,r,o)}i.refCount++}catch{}return e.call(this,n,r,o)}})),ot(r,"removeEventListener",(function(t){return function(e,n,r){if("click"===e||"keypress"==e)try{const n=this.__sentry_instrumentation_handlers__||{},o=n[e];o&&(o.refCount--,o.refCount<=0&&(t.call(this,e,o.handler,r),o.handler=void 0,delete n[e]),0===Object.keys(n).length&&delete this.__sentry_instrumentation_handlers__)}catch{}return t.call(this,e,n,r)}})))}))}function Te(t,e=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(t){try{return t.target}catch{return null}}(n);if(function(t,e){return"keypress"===t&&(!e?.tagName||"INPUT"!==e.tagName&&"TEXTAREA"!==e.tagName&&!e.isContentEditable)}(n.type,r))return;it(n,"_sentryCaptured",!0),r&&!r._sentryId&&it(r,"_sentryId",dt());const o="keypress"===n.type?"input":n.type;if(!function(t){if(t.type!==Se)return!1;try{if(!t.target||t.target._sentryId!==Le)return!1}catch{}return!0}(n)){t({event:n,name:o,global:e}),Se=n.type,Le=r?r._sentryId:void 0}clearTimeout(ke),ke=Ee.setTimeout((()=>{Le=void 0,Se=void 0}),1e3)}}const Oe="__sentry_xhr_v3__";function Ae(){if(!Ee.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(t,e,n){const r=new Error,o=1e3*kt(),i=z(n[0])?n[0].toUpperCase():void 0,s=function(t){if(z(t))return t;try{return t.toString()}catch{}return}(n[1]);if(!i||!s)return t.apply(e,n);e[Oe]={method:i,url:s,request_headers:{}},"POST"===i&&s.match(/sentry_key/)&&(e.__sentry_own_request__=!0);const a=()=>{const t=e[Oe];if(t&&4===e.readyState){try{t.status_code=e.status}catch{}ue("xhr",{endTimestamp:1e3*kt(),startTimestamp:o,xhr:e,virtualError:r})}};return"onreadystatechange"in e&&"function"==typeof e.onreadystatechange?e.onreadystatechange=new Proxy(e.onreadystatechange,{apply:(t,e,n)=>(a(),t.apply(e,n))}):e.addEventListener("readystatechange",a),e.setRequestHeader=new Proxy(e.setRequestHeader,{apply(t,e,n){const[r,o]=n,i=e[Oe];return i&&z(r)&&z(o)&&(i.request_headers[r.toLowerCase()]=o),t.apply(e,n)}}),t.apply(e,n)}}),t.send=new Proxy(t.send,{apply(t,e,n){const r=e[Oe];if(!r)return t.apply(e,n);void 0!==n[0]&&(r.body=n[0]);return ue("xhr",{startTimestamp:1e3*kt(),xhr:e}),t.apply(e,n)}})}let Ie;function Ne(t){const e="history";ae(e,t),ce(e,Re)}function Re(){function t(t){return function(...e){const n=e.length>2?e[2]:void 0;if(n){const r=Ie,o=function(t){try{return new URL(t,Ee.location.origin).toString()}catch{return t}}(String(n));if(Ie=o,r===o)return t.apply(this,e);ue("history",{from:r,to:o})}return t.apply(this,e)}}Ee.addEventListener("popstate",(()=>{const t=Ee.location.href,e=Ie;if(Ie=t,e===t)return;ue("history",{from:e,to:t})})),"history"in de&&de.history&&(ot(Ee.history,"pushState",t),ot(Ee.history,"replaceState",t))}const qe="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Pe="production";function De(t){return new je((e=>{e(t)}))}function Me(t){return new je(((e,n)=>{n(t)}))}class je{constructor(t){this._state=0,this._handlers=[],this._runExecutor(t)}then(t,e){return new je(((n,r)=>{this._handlers.push([!1,e=>{if(t)try{n(t(e))}catch(t){r(t)}else n(e)},t=>{if(e)try{n(e(t))}catch(t){r(t)}else r(t)}]),this._executeHandlers()}))}catch(t){return this.then((t=>t),t)}finally(t){return new je(((e,n)=>{let r,o;return this.then((e=>{o=!1,r=e,t&&t()}),(e=>{o=!0,r=e,t&&t()})).then((()=>{o?n(r):e(r)}))}))}_executeHandlers(){if(0===this._state)return;const t=this._handlers.slice();this._handlers=[],t.forEach((t=>{t[0]||(1===this._state&&t[1](this._value),2===this._state&&t[2](this._value),t[0]=!0)}))}_runExecutor(t){const e=(t,e)=>{0===this._state&&(Y(e)?e.then(n,r):(this._state=t,this._value=e,this._executeHandlers()))},n=t=>{e(1,t)},r=t=>{e(2,t)};try{t(n,r)}catch(t){r(t)}}}function $e(t,e,n,r=0){return new je(((o,i)=>{const s=t[r];if(null===e||"function"!=typeof s)o(e);else{const a=s({...e},n);m&&s.id&&null===a&&N.log(`Event processor "${s.id}" dropped event`),Y(a)?a.then((e=>$e(t,e,n,r+1).then(o))).then(null,i):$e(t,a,n,r+1).then(o).then(null,i)}}))}const Ue="sentry.profile_id",Be="sentry.exclusive_time",ze=/^sentry-/;function He(t){const e=function(t){if(!t||!z(t)&&!Array.isArray(t))return;if(Array.isArray(t))return t.reduce(((t,e)=>{const n=Ve(e);return Object.entries(n).forEach((([e,n])=>{t[e]=n})),t}),{});return Ve(t)}(t);if(!e)return;const n=Object.entries(e).reduce(((t,[e,n])=>{if(e.match(ze)){t[e.slice(7)]=n}return t}),{});return Object.keys(n).length>0?n:void 0}function Ve(t){return t.split(",").map((t=>t.split("=").map((t=>{try{return decodeURIComponent(t.trim())}catch{return}})))).reduce(((t,[e,n])=>(e&&n&&(t[e]=n),t)),{})}const Ge=/^o(\d+)\./,Fe=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Ye(t,e=!1){const{host:n,path:r,pass:o,port:i,projectId:s,protocol:a,publicKey:c}=t;return`${a}://${c}${e&&o?`:${o}`:""}@${n}${i?`:${i}`:""}/${r?`${r}/`:r}${s}`}function We(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function Xe(t){const e="string"==typeof t?function(t){const e=Fe.exec(t);if(!e)return void E((()=>{console.error(`Invalid Sentry Dsn: ${t}`)}));const[n,r,o="",i="",s="",a=""]=e.slice(1);let c="",u=a;const l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){const t=u.match(/^\d+/);t&&(u=t[0])}return We({host:i,pass:o,path:c,projectId:u,port:s,protocol:n,publicKey:r})}(t):We(t);if(e&&function(t){if(!m)return!0;const{port:e,projectId:n,protocol:r}=t;return!(["protocol","publicKey","host","projectId"].find((e=>!t[e]&&(N.error(`Invalid Sentry Dsn: ${e} missing`),!0)))||(n.match(/^\d+$/)?function(t){return"http"===t||"https"===t}(r)?e&&isNaN(parseInt(e,10))&&(N.error(`Invalid Sentry Dsn: Invalid port ${e}`),1):(N.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),1):(N.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(e))return e}function Ze(t){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const e=t||zt()?.getOptions();return!(!e||null==e.tracesSampleRate&&!e.tracesSampler)}const Je="_sentryScope",Ke="_sentryIsolationScope";function Qe(t){return{scope:t[Je],isolationScope:t[Ke]}}let tn=!1;function en(t){const{spanId:e,traceId:n,isRemote:r}=t.spanContext(),o=r?e:sn(t).parent_span_id,i=Qe(t).scope;return{parent_span_id:o,span_id:r?i?.getPropagationContext().propagationSpanId||Ot():e,trace_id:n}}function nn(t){return t&&t.length>0?t.map((({context:{spanId:t,traceId:e,traceFlags:n,...r},attributes:o})=>({span_id:t,trace_id:e,sampled:1===n,attributes:o,...r}))):void 0}function rn(t){return"number"==typeof t?on(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?on(t.getTime()):kt()}function on(t){return t>9999999999?t/1e3:t}function sn(t){if(function(t){return"function"==typeof t.getSpanJSON}(t))return t.getSpanJSON();const{spanId:e,traceId:n}=t.spanContext();if(function(t){const e=t;return!!(e.attributes&&e.startTime&&e.name&&e.endTime&&e.status)}(t)){const{attributes:r,startTime:o,name:i,endTime:s,status:a,links:c}=t;return{span_id:e,trace_id:n,data:r,description:i,parent_span_id:"parentSpanId"in t?t.parentSpanId:"parentSpanContext"in t?t.parentSpanContext?.spanId:void 0,start_timestamp:rn(o),timestamp:rn(s)||void 0,status:cn(a),op:r["sentry.op"],origin:r["sentry.origin"],links:nn(c)}}return{span_id:e,trace_id:n,start_timestamp:0,data:{}}}function an(t){const{traceFlags:e}=t.spanContext();return 1===e}function cn(t){if(t&&0!==t.code)return 1===t.code?"ok":t.message||"unknown_error"}const un="_sentryRootSpan";function ln(t){return t[un]||t}function dn(){tn||(E((()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")})),tn=!0)}const pn="_frozenDsc";function hn(t,e){const n=e.getOptions(),{publicKey:r,host:o}=e.getDsn()||{};let i;n.orgId?i=String(n.orgId):o&&(i=function(t){const e=t.match(Ge);return e?.[1]}(o));const s={environment:n.environment||Pe,release:n.release,public_key:r,trace_id:t,org_id:i};return e.emit("createDsc",s),s}function fn(t){const e=zt();if(!e)return{};const n=ln(t),r=sn(n),o=r.data,i=n.spanContext().traceState,s=i?.get("sentry.sample_rate")??o["sentry.sample_rate"]??o["sentry.previous_trace_sample_rate"];function a(t){return"number"!=typeof s&&"string"!=typeof s||(t.sample_rate=`${s}`),t}const c=n[pn];if(c)return a(c);const u=i?.get("sentry.dsc"),l=u&&He(u);if(l)return a(l);const d=hn(t.spanContext().traceId,e),p=o["sentry.source"],h=r.description;return"url"!==p&&h&&(d.transaction=h),Ze()&&(d.sampled=String(an(n)),d.sample_rand=i?.get("sentry.sample_rand")??Qe(n).scope?.getPropagationContext().sampleRand.toString()),a(d),e.emit("createDsc",d,n),d}function mn(t,e){const{fingerprint:n,span:r,breadcrumbs:o,sdkProcessingMetadata:i}=e;!function(t,e){const{extra:n,tags:r,user:o,contexts:i,level:s,transactionName:a}=e;Object.keys(n).length&&(t.extra={...n,...t.extra});Object.keys(r).length&&(t.tags={...r,...t.tags});Object.keys(o).length&&(t.user={...o,...t.user});Object.keys(i).length&&(t.contexts={...i,...t.contexts});s&&(t.level=s);a&&"transaction"!==t.type&&(t.transaction=a)}(t,e),r&&function(t,e){t.contexts={trace:en(e),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:fn(e),...t.sdkProcessingMetadata};const n=ln(e),r=sn(n).description;r&&!t.transaction&&"transaction"===t.type&&(t.transaction=r)}(t,r),function(t,e){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],e&&(t.fingerprint=t.fingerprint.concat(e));t.fingerprint.length||delete t.fingerprint}(t,n),function(t,e){const n=[...t.breadcrumbs||[],...e];t.breadcrumbs=n.length?n:void 0}(t,o),function(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}(t,i)}function yn(t,e){const{extra:n,tags:r,user:o,contexts:i,level:s,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:l,attachments:d,propagationContext:p,transactionName:h,span:f}=e;gn(t,"extra",n),gn(t,"tags",r),gn(t,"user",o),gn(t,"contexts",i),t.sdkProcessingMetadata=Ct(t.sdkProcessingMetadata,a,2),s&&(t.level=s),h&&(t.transactionName=h),f&&(t.span=f),c.length&&(t.breadcrumbs=[...t.breadcrumbs,...c]),u.length&&(t.fingerprint=[...t.fingerprint,...u]),l.length&&(t.eventProcessors=[...t.eventProcessors,...l]),d.length&&(t.attachments=[...t.attachments,...d]),t.propagationContext={...t.propagationContext,...p}}function gn(t,e,n){t[e]=Ct(t[e],n,1)}let vn,_n,bn;function xn(t){const e=g._sentryDebugIds;if(!e)return{};const n=Object.keys(e);return bn&&n.length===_n||(_n=n.length,bn=n.reduce(((n,r)=>{vn||(vn={});const o=vn[r];if(o)n[o[0]]=o[1];else{const o=t(r);for(let t=o.length-1;t>=0;t--){const i=o[t],s=i?.filename,a=e[r];if(s&&a){n[s]=a,vn[r]=[s,a];break}}}return n}),{})),bn}function wn(t,e=100,n=1/0){try{return kn("",t,e,n)}catch(t){return{ERROR:`**non-serializable** (${t})`}}}function En(t,e=3,n=102400){const r=wn(t,e);return o=r,function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(o))>n?En(t,e-1,n):r;var o}function kn(t,e,n=1/0,r=1/0,o=function(){const t=new WeakSet;function e(e){return!!t.has(e)||(t.add(e),!1)}function n(e){t.delete(e)}return[e,n]}()){const[i,s]=o;if(null==e||["boolean","string"].includes(typeof e)||"number"==typeof e&&Number.isFinite(e))return e;const a=function(t,e){try{if("domain"===t&&e&&"object"==typeof e&&e._events)return"[Domain]";if("domainEmitter"===t)return"[DomainEmitter]";if("undefined"!=typeof global&&e===global)return"[Global]";if("undefined"!=typeof window&&e===window)return"[Window]";if("undefined"!=typeof document&&e===document)return"[Document]";if(X(e))return"[VueViewModel]";if(G(n=e)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n)return"[SyntheticEvent]";if("number"==typeof e&&!Number.isFinite(e))return`[${e}]`;if("function"==typeof e)return`[Function: ${Qt(e)}]`;if("symbol"==typeof e)return`[${String(e)}]`;if("bigint"==typeof e)return`[BigInt: ${String(e)}]`;const r=function(t){const e=Object.getPrototypeOf(t);return e?.constructor?e.constructor.name:"null prototype"}(e);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(t){return`**non-serializable** (${t})`}var n}(t,e);if(!a.startsWith("[object "))return a;if(e.__sentry_skip_normalization__)return e;const c="number"==typeof e.__sentry_override_normalization_depth__?e.__sentry_override_normalization_depth__:n;if(0===c)return a.replace("object ","");if(i(e))return"[Circular ~]";const u=e;if(u&&"function"==typeof u.toJSON)try{return kn("",u.toJSON(),c-1,r,o)}catch{}const l=Array.isArray(e)?[]:{};let d=0;const p=ct(e);for(const t in p){if(!Object.prototype.hasOwnProperty.call(p,t))continue;if(d>=r){l[t]="[MaxProperties ~]";break}const e=p[t];l[t]=kn(t,e,c-1,r,o),d++}return s(e),l}function Sn(t,e,n,r,o,i){const{normalizeDepth:s=3,normalizeMaxBreadth:a=1e3}=t,c={...e,event_id:e.event_id||n.event_id||dt(),timestamp:e.timestamp||wt()},u=n.integrations||t.integrations.map((t=>t.name));!function(t,e){const{environment:n,release:r,dist:o,maxValueLength:i=250}=e;t.environment=t.environment||n||Pe,!t.release&&r&&(t.release=r);!t.dist&&o&&(t.dist=o);const s=t.request;s?.url&&(s.url=tt(s.url,i))}(c,t),function(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}(c,u),o&&o.emit("applyFrameMetadata",e),void 0===e.type&&function(t,e){const n=xn(e);t.exception?.values?.forEach((t=>{t.stacktrace?.frames?.forEach((t=>{t.filename&&(t.debug_id=n[t.filename])}))}))}(c,t.stackParser);const l=function(t,e){if(!e)return t;const n=t?t.clone():new Rt;return n.update(e),n}(r,n.captureContext);n.mechanism&&mt(c,n.mechanism);const d=o?o.getEventProcessors():[],p=b("globalScope",(()=>new Rt)).getScopeData();if(i){yn(p,i.getScopeData())}if(l){yn(p,l.getScopeData())}const h=[...n.attachments||[],...p.attachments];h.length&&(n.attachments=h),mn(c,p);return $e([...d,...p.eventProcessors],c,n).then((t=>(t&&function(t){const e={};if(t.exception?.values?.forEach((t=>{t.stacktrace?.frames?.forEach((t=>{t.debug_id&&(t.abs_path?e[t.abs_path]=t.debug_id:t.filename&&(e[t.filename]=t.debug_id),delete t.debug_id)}))})),0===Object.keys(e).length)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const n=t.debug_meta.images;Object.entries(e).forEach((([t,e])=>{n.push({type:"sourcemap",code_file:t,debug_id:e})}))}(t),"number"==typeof s&&s>0?function(t,e,n){if(!t)return null;const r={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map((t=>({...t,...t.data&&{data:wn(t.data,e,n)}})))},...t.user&&{user:wn(t.user,e,n)},...t.contexts&&{contexts:wn(t.contexts,e,n)},...t.extra&&{extra:wn(t.extra,e,n)}};t.contexts?.trace&&r.contexts&&(r.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(r.contexts.trace.data=wn(t.contexts.trace.data,e,n)));t.spans&&(r.spans=t.spans.map((t=>({...t,...t.data&&{data:wn(t.data,e,n)}}))));t.contexts?.flags&&r.contexts&&(r.contexts.flags=wn(t.contexts.flags,3,n));return r}(t,s,a):t)))}function Ln(t){if(t)return function(t){return t instanceof Rt||"function"==typeof t}(t)||function(t){return Object.keys(t).some((t=>Cn.includes(t)))}(t)?{captureContext:t}:t}const Cn=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function Tn(t,e){return Ut().captureEvent(t,e)}function On(t){const e=Bt(),n=Ut(),{userAgent:r}=g.navigator||{},o=St({user:n.getUser()||e.getUser(),...r&&{userAgent:r},...t}),i=e.getSession();return"ok"===i?.status&&Lt(i,{status:"exited"}),An(),e.setSession(o),o}function An(){const t=Bt(),e=Ut().getSession()||t.getSession();e&&function(t,e){let n={};e?n={status:e}:"ok"===t.status&&(n={status:"exited"}),Lt(t,n)}(e),In(),t.setSession()}function In(){const t=Bt(),e=zt(),n=t.getSession();n&&e&&e.captureSession(n)}function Nn(t=!1){t?An():In()}const Rn=g;let qn=0;function Pn(){return qn>0}function Dn(t,e={}){if(!function(t){return"function"==typeof t}(t))return t;try{const e=t.__sentry_wrapped__;if(e)return"function"==typeof e?e:t;if(at(t))return t}catch{return t}const n=function(...n){try{const r=n.map((t=>Dn(t,e)));return t.apply(this,r)}catch(t){throw qn++,setTimeout((()=>{qn--})),function(...t){const e=$t(v());if(2===t.length){const[n,r]=t;return n?e.withSetScope(n,r):e.withScope(r)}e.withScope(t[0])}((r=>{var o,i;r.addEventProcessor((t=>(e.mechanism&&(ft(t,void 0,void 0),mt(t,e.mechanism)),t.extra={...t.extra,arguments:n},t))),o=t,Ut().captureException(o,Ln(i))})),t}};try{for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}catch{}st(n,t),it(t,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>t.name})}catch{}return n}const Mn=1024,jn=(t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:"Breadcrumbs",setup(t){var n;e.console&&function(t){const e="console";ae(e,t),ce(e,le)}(function(t){return function(e){if(zt()!==t)return;const n={category:"console",data:{arguments:e.args,logger:"console"},level:be(e.level),message:et(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;n.message=`Assertion failed: ${et(e.args.slice(1)," ")||"console.assert"}`,n.data.arguments=e.args.slice(1)}_e(n,{input:e.args,level:e.level})}}(t)),e.dom&&(n=function(t,e){return function(n){if(zt()!==t)return;let r,o,i="object"==typeof e?e.serializeAttribute:void 0,s="object"==typeof e&&"number"==typeof e.maxStringLength?e.maxStringLength:void 0;s&&s>Mn&&(qe&&N.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${s} was configured. Sentry will use 1024 instead.`),s=Mn),"string"==typeof i&&(i=[i]);try{const t=n.event,e=function(t){return!!t&&!!t.target}(t)?t.target:t;r=J(e,{keyAttrs:i,maxStringLength:s}),o=function(t){if(!Z.HTMLElement)return null;let e=t;for(let t=0;t<5;t++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}(e)}catch{r="<unknown>"}if(0===r.length)return;const a={category:`ui.${n.name}`,message:r};o&&(a.data={"ui.component_name":o}),_e(a,{event:n.event,name:n.name,global:n.global})}}(t,e.dom),ae("dom",n),ce("dom",Ce)),e.xhr&&function(t){ae("xhr",t),ce("xhr",Ae)}(function(t){return function(e){if(zt()!==t)return;const{startTimestamp:n,endTimestamp:r}=e,o=e.xhr[Oe];if(!n||!r||!o)return;const{method:i,url:s,status_code:a,body:c}=o,u={method:i,url:s,status_code:a},l={xhr:e.xhr,input:c,startTimestamp:n,endTimestamp:r},d={category:"xhr",data:u,type:"http",level:xe(a)};t.emit("beforeOutgoingRequestBreadcrumb",d,l),_e(d,l)}}(t)),e.fetch&&function(t,e){const n="fetch";ae(n,t),ce(n,(()=>fe(void 0,e)))}(function(t){return function(e){if(zt()!==t)return;const{startTimestamp:n,endTimestamp:r}=e;if(r&&(!e.fetchData.url.match(/sentry_key/)||"POST"!==e.fetchData.method))if(e.fetchData.method,e.fetchData.url,e.error){const o=e.fetchData,i={data:e.error,input:e.args,startTimestamp:n,endTimestamp:r},s={category:"fetch",data:o,level:"error",type:"http"};t.emit("beforeOutgoingRequestBreadcrumb",s,i),_e(s,i)}else{const o=e.response,i={...e.fetchData,status_code:o?.status};e.fetchData.request_body_size,e.fetchData.response_body_size;const s={input:e.args,response:o,startTimestamp:n,endTimestamp:r},a={category:"fetch",data:i,type:"http",level:xe(i.status_code)};t.emit("beforeOutgoingRequestBreadcrumb",a,s),_e(a,s)}}}(t)),e.history&&Ne(function(t){return function(e){if(zt()!==t)return;let n=e.from,r=e.to;const o=we(Rn.location.href);let i=n?we(n):void 0;const s=we(r);i?.path||(i=o),o.protocol===s.protocol&&o.host===s.host&&(r=s.relative),o.protocol===i.protocol&&o.host===i.host&&(n=i.relative),_e({category:"navigation",data:{from:n,to:r}})}}(t)),e.sentry&&t.on("beforeSendEvent",function(t){return function(e){zt()===t&&_e({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:ht(e)},{event:e})}}(t))}}};const $n=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Un=(t={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...t};return{name:"BrowserApiErrors",setupOnce(){e.setTimeout&&ot(Rn,"setTimeout",Bn),e.setInterval&&ot(Rn,"setInterval",Bn),e.requestAnimationFrame&&ot(Rn,"requestAnimationFrame",zn),e.XMLHttpRequest&&"XMLHttpRequest"in Rn&&ot(XMLHttpRequest.prototype,"send",Hn);const t=e.eventTarget;if(t){(Array.isArray(t)?t:$n).forEach((t=>function(t,e){const n=Rn,r=n[t]?.prototype;if(!r?.hasOwnProperty?.("addEventListener"))return;ot(r,"addEventListener",(function(n){return function(r,o,i){try{"function"==typeof o.handleEvent&&(o.handleEvent=Dn(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Qt(o),target:t},handled:!1,type:"instrument"}}))}catch{}return e.unregisterOriginalCallbacks&&function(t,e,n){t&&"object"==typeof t&&"removeEventListener"in t&&"function"==typeof t.removeEventListener&&t.removeEventListener(e,n)}(this,r,o),n.apply(this,[r,Dn(o,{mechanism:{data:{function:"addEventListener",handler:Qt(o),target:t},handled:!1,type:"instrument"}}),i])}})),ot(r,"removeEventListener",(function(t){return function(e,n,r){try{const o=n.__sentry_wrapped__;o&&t.call(this,e,o,r)}catch{}return t.call(this,e,n,r)}}))}(t,e)))}}}};function Bn(t){return function(...e){const n=e[0];return e[0]=Dn(n,{mechanism:{data:{function:Qt(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}function zn(t){return function(e){return t.apply(this,[Dn(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Qt(t)},handled:!1,type:"instrument"}})])}}function Hn(t){return function(...e){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((t=>{t in n&&"function"==typeof n[t]&&ot(n,t,(function(e){const n={mechanism:{data:{function:t,handler:Qt(e)},handled:!1,type:"instrument"}},r=at(e);return r&&(n.mechanism.data.handler=Qt(r)),Dn(e,n)}))})),t.apply(this,e)}}const Vn=()=>({name:"BrowserSession",setupOnce(){void 0!==Rn.document?(On({ignoreDuration:!0}),Nn(),Ne((({from:t,to:e})=>{void 0!==t&&t!==e&&(On({ignoreDuration:!0}),Nn())}))):qe&&N.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}});let Gn=null;function Fn(){Gn=g.onerror,g.onerror=function(t,e,n,r,o){return ue("error",{column:r,error:o,line:n,msg:t,url:e}),!!Gn&&Gn.apply(this,arguments)},g.onerror.__SENTRY_INSTRUMENTED__=!0}let Yn=null;function Wn(){Yn=g.onunhandledrejection,g.onunhandledrejection=function(t){return ue("unhandledrejection",t),!Yn||Yn.apply(this,arguments)},g.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function Xn(t,e){const n=Kn(t,e),r={type:er(e),value:nr(e)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function Zn(t,e,n,r){const o=zt(),i=o?.getOptions().normalizeDepth,s=function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const n=t[e];if(n instanceof Error)return n}return}(e),a={__serialized__:En(e,i)};if(s)return{exception:{values:[Xn(t,s)]},extra:a};const c={exception:{values:[{type:F(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:ir(e,{isUnhandledRejection:r})}]},extra:a};if(n){const e=Kn(t,n);e.length&&(c.exception.values[0].stacktrace={frames:e})}return c}function Jn(t,e){return{exception:{values:[Xn(t,e)]}}}function Kn(t,e){const n=e.stacktrace||e.stack||"",r=function(t){if(t&&Qn.test(t.message))return 1;return 0}(e),o=function(t){if("number"==typeof t.framesToPop)return t.framesToPop;return 0}(e);try{return t(n,r,o)}catch{}return[]}const Qn=/Minified React error #\d+;/i;function tr(t){return"undefined"!=typeof WebAssembly&&void 0!==WebAssembly.Exception&&t instanceof WebAssembly.Exception}function er(t){const e=t?.name;if(!e&&tr(t)){return t.message&&Array.isArray(t.message)&&2==t.message.length?t.message[0]:"WebAssembly.Exception"}return e}function nr(t){const e=t?.message;return tr(t)?Array.isArray(t.message)&&2==t.message.length?t.message[1]:"wasm exception":e?e.error&&"string"==typeof e.error.message?e.error.message:e:"No error message"}function rr(t,e,n,r,o){let i;if(U(e)&&e.error){return Jn(t,e.error)}if(B(e)||$(e,"DOMException")){const o=e;if("stack"in e)i=Jn(t,e);else{const e=o.name||(B(o)?"DOMError":"DOMException"),s=o.message?`${e}: ${o.message}`:e;i=or(t,s,n,r),ft(i,s)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}if(j(e))return Jn(t,e);if(G(e)||F(e)){return i=Zn(t,e,n,o),mt(i,{synthetic:!0}),i}return i=or(t,e,n,r),ft(i,`${e}`,void 0),mt(i,{synthetic:!0}),i}function or(t,e,n,r){const o={};if(r&&n){const r=Kn(t,n);r.length&&(o.exception={values:[{value:e,stacktrace:{frames:r}}]}),mt(o,{synthetic:!0})}if(H(e)){const{__sentry_template_string__:t,__sentry_template_values__:n}=e;return o.logentry={message:t,params:n},o}return o.message=e,o}function ir(t,{isUnhandledRejection:e}){const n=function(t,e=40){const n=Object.keys(ct(t));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=e)return tt(r,e);for(let t=n.length;t>0;t--){const r=n.slice(0,t).join(", ");if(!(r.length>e))return t===n.length?r:tt(r,e)}return""}(t),r=e?"promise rejection":"exception";if(U(t))return`Event \`ErrorEvent\` captured as ${r} with message \`${t.message}\``;if(F(t)){return`Event \`${function(t){try{const e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch{}}(t)}\` (type=${t.type}) captured as ${r}`}return`Object captured as ${r} with keys: ${n}`}const sr=(t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(t){e.onerror&&(!function(t){!function(t){const e="error";ae(e,t),ce(e,Fn)}((e=>{const{stackParser:n,attachStacktrace:r}=cr();if(zt()!==t||Pn())return;const{msg:o,url:i,line:s,column:a,error:c}=e,u=function(t,e,n,r){const o=t.exception=t.exception||{},i=o.values=o.values||[],s=i[0]=i[0]||{},a=s.stacktrace=s.stacktrace||{},c=a.frames=a.frames||[],u=r,l=n,d=z(e)&&e.length>0?e:Q();0===c.length&&c.push({colno:u,filename:d,function:Yt,in_app:!0,lineno:l});return t}(rr(n,c||o,void 0,r,!1),i,s,a);u.level="error",Tn(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})}))}(t),ar("onerror")),e.onunhandledrejection&&(!function(t){!function(t){const e="unhandledrejection";ae(e,t),ce(e,Wn)}((e=>{const{stackParser:n,attachStacktrace:r}=cr();if(zt()!==t||Pn())return;const o=function(t){if(V(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}(e),i=V(o)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(o)}`}]}}:rr(n,o,void 0,r,!0);i.level="error",Tn(i,{originalException:o,mechanism:{handled:!1,type:"onunhandledrejection"}})}))}(t),ar("onunhandledrejection"))}}};function ar(t){qe&&N.log(`Global Handler attached: ${t}`)}function cr(){const t=zt();return t?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const ur=()=>({name:"HttpContext",preprocessEvent(t){if(!Rn.navigator&&!Rn.location&&!Rn.document)return;const e=function(){const t=Q(),{referrer:e}=Rn.document||{},{userAgent:n}=Rn.navigator||{};return{url:t,headers:{...e&&{Referer:e},...n&&{"User-Agent":n}}}}(),n={...e.headers,...t.request?.headers};t.request={...e,...t.request,headers:n}}});function lr(t,e,n,r,o,i){if(!o.exception?.values||!i||!W(i.originalException,Error))return;const s=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;s&&(o.exception.values=dr(t,e,r,i.originalException,n,o.exception.values,s,0))}function dr(t,e,n,r,o,i,s,a){if(i.length>=n+1)return i;let c=[...i];if(W(r[o],Error)){pr(s,a);const i=t(e,r[o]),u=c.length;hr(i,o,u,a),c=dr(t,e,n,r[o],o,[i,...c],i,u)}return Array.isArray(r.errors)&&r.errors.forEach(((r,i)=>{if(W(r,Error)){pr(s,a);const u=t(e,r),l=c.length;hr(u,`errors[${i}]`,l,a),c=dr(t,e,n,r,o,[u,...c],u,l)}})),c}function pr(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,..."AggregateError"===t.type&&{is_exception_group:!0},exception_id:e}}function hr(t,e,n,r){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:n,parent_id:r}}const fr=(t={})=>{const e=t.limit||5,n=t.key||"cause";return{name:"LinkedErrors",preprocessEvent(t,r,o){lr(Xn,o.getOptions().stackParser,n,e,t,r)}}};function mr(t){return[_t(),Ft(),Un(),jn(),sr(),fr(),ee(),ur(),Vn()]}function yr(t){const e=t.protocol?`${t.protocol}:`:"",n=t.port?`:${t.port}`:"";return`${e}//${t.host}${n}${t.path?`/${t.path}`:""}/api/`}function gr(t,e,n){return e||`${function(t){return`${yr(t)}${t.projectId}/envelope/`}(t)}?${function(t,e){const n={sentry_version:"7"};return t.publicKey&&(n.sentry_key=t.publicKey),e&&(n.sentry_client=`${e.name}/${e.version}`),new URLSearchParams(n).toString()}(t,n)}`}function vr(t,e=[]){return[t,e]}function _r(t,e){const[n,r]=t;return[n,[...r,e]]}function br(t,e){const n=t[1];for(const t of n){if(e(t,t[0].type))return!0}return!1}function xr(t){const e=_(g);return e.encodePolyfill?e.encodePolyfill(t):(new TextEncoder).encode(t)}function wr(t){const[e,n]=t;let r=JSON.stringify(e);function o(t){"string"==typeof r?r="string"==typeof t?r+t:[xr(r),t]:r.push("string"==typeof t?xr(t):t)}for(const t of n){const[e,n]=t;if(o(`\n${JSON.stringify(e)}\n`),"string"==typeof n||n instanceof Uint8Array)o(n);else{let t;try{t=JSON.stringify(n)}catch{t=JSON.stringify(wn(n))}o(t)}}return"string"==typeof r?r:function(t){const e=t.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(e);let r=0;for(const e of t)n.set(e,r),r+=e.length;return n}(r)}function Er(t){const e="string"==typeof t.data?xr(t.data):t.data;return[{type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType},e]}const kr={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function Sr(t){return kr[t]}function Lr(t){if(!t?.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}function Cr(t,e,n,r){const o=Lr(n),i=t.type&&"replay_event"!==t.type?t.type:"event";!function(t,e){e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]])}(t,n?.sdk);const s=function(t,e,n,r){const o=t.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:t.event_id,sent_at:(new Date).toISOString(),...e&&{sdk:e},...!!n&&r&&{dsn:Ye(r)},...o&&{trace:o}}}(t,o,r,e);delete t.sdkProcessingMetadata;return vr(s,[[{type:i},t]])}const Tr="Not capturing exception because it's already been captured.",Or="Discarded session because of missing or non-string release",Ar=Symbol.for("SentryInternalError"),Ir=Symbol.for("SentryDoNotSendEventError");function Nr(t){return{message:t,[Ar]:!0}}function Rr(t){return{message:t,[Ir]:!0}}function qr(t){return!!t&&"object"==typeof t&&Ar in t}function Pr(t){return!!t&&"object"==typeof t&&Ir in t}class Dr{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=Xe(t.dsn):m&&N.warn("No DSN provided, client will not send events."),this._dsn){const e=gr(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:e})}}captureException(t,e,n){const r=dt();if(yt(t))return m&&N.log(Tr),r;const o={event_id:r,...e};return this._process(this.eventFromException(t,o).then((t=>this._captureEvent(t,o,n)))),o.event_id}captureMessage(t,e,n,r){const o={event_id:dt(),...n},i=H(t)?t:String(t),s=V(t)?this.eventFromMessage(i,e,o):this.eventFromException(t,o);return this._process(s.then((t=>this._captureEvent(t,o,r)))),o.event_id}captureEvent(t,e,n){const r=dt();if(e?.originalException&&yt(e.originalException))return m&&N.log(Tr),r;const o={event_id:r,...e},i=t.sdkProcessingMetadata||{},s=i.capturedSpanScope,a=i.capturedSpanIsolationScope;return this._process(this._captureEvent(t,o,s||n,a)),o.event_id}captureSession(t){this.sendSession(t),Lt(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const e=this._transport;return e?(this.emit("flush"),this._isClientDoneProcessing(t).then((n=>e.flush(t).then((t=>n&&t))))):De(!0)}close(t){return this.flush(t).then((t=>(this.getOptions().enabled=!1,this.emit("close"),t)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some((({name:t})=>t.startsWith("Spotlight"))))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const e=this._integrations[t.name];P(this,t,this._integrations),e||q(this,[t])}sendEvent(t,e={}){this.emit("beforeSendEvent",t,e);let n=Cr(t,this._dsn,this._options._metadata,this._options.tunnel);for(const t of e.attachments||[])n=_r(n,Er(t));const r=this.sendEnvelope(n);r&&r.then((e=>this.emit("afterSendEvent",t,e)),null)}sendSession(t){const{release:e,environment:n=Pe}=this._options;if("aggregates"in t){const r=t.attrs||{};if(!r.release&&!e)return void(m&&N.warn(Or));r.release=r.release||e,r.environment=r.environment||n,t.attrs=r}else{if(!t.release&&!e)return void(m&&N.warn(Or));t.release=t.release||e,t.environment=t.environment||n}this.emit("beforeSendSession",t);const r=function(t,e,n,r){const o=Lr(n);return vr({sent_at:(new Date).toISOString(),...o&&{sdk:o},...!!r&&e&&{dsn:Ye(e)}},["aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(t,e,n=1){if(this._options.sendClientReports){const r=`${t}:${e}`;m&&N.log(`Recording outcome: "${r}"${n>1?` (${n} times)`:""}`),this._outcomes[r]=(this._outcomes[r]||0)+n}}on(t,e){const n=this._hooks[t]=this._hooks[t]||[];return n.push(e),()=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)}}emit(t,...e){const n=this._hooks[t];n&&n.forEach((t=>t(...e)))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,(t=>(m&&N.error("Error while sending envelope:",t),t))):(m&&N.error("Transport disabled"),De({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=function(t,e){const n={};return e.forEach((e=>{e&&P(t,e,n)})),n}(this,t),q(this,t)}_updateSessionFromEvent(t,e){let n="fatal"===e.level,r=!1;const o=e.exception?.values;if(o){r=!0;for(const t of o){const e=t.mechanism;if(!1===e?.handled){n=!0;break}}}const i="ok"===t.status;(i&&0===t.errors||i&&n)&&(Lt(t,{...n&&{status:"crashed"},errors:t.errors||Number(r||n)}),this.captureSession(t))}_isClientDoneProcessing(t){return new je((e=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),e(!0)):(n+=1,t&&n>=t&&(clearInterval(r),e(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(t,e,n,r){const o=this.getOptions(),i=Object.keys(this._integrations);return!e.integrations&&i?.length&&(e.integrations=i),this.emit("preprocessEvent",t,e),t.type||r.setLastEventId(t.event_id||e.event_id),Sn(o,t,e,n,this,r).then((t=>{if(null===t)return t;this.emit("postprocessEvent",t,e),t.contexts={trace:Ht(n),...t.contexts};const r=function(t,e){const n=e.getPropagationContext();return n.dsc||hn(n.traceId,t)}(this,n);return t.sdkProcessingMetadata={dynamicSamplingContext:r,...t.sdkProcessingMetadata},t}))}_captureEvent(t,e={},n=Ut(),r=Bt()){return m&&Mr(t)&&N.log(`Captured error event \`${D(t)[0]||"<unknown>"}\``),this._processEvent(t,e,n,r).then((t=>t.event_id),(t=>{m&&(Pr(t)?N.log(t.message):qr(t)?N.warn(t.message):N.warn(t))}))}_processEvent(t,e,n,r){const o=this.getOptions(),{sampleRate:i}=o,s=jr(t),a=Mr(t),c=t.type||"error",u=`before send for type \`${c}\``,l=void 0===i?void 0:function(t){if("boolean"==typeof t)return Number(t);const e="string"==typeof t?parseFloat(t):t;return"number"!=typeof e||isNaN(e)||e<0||e>1?void 0:e}(i);if(a&&"number"==typeof l&&Math.random()>l)return this.recordDroppedEvent("sample_rate","error"),Me(Rr(`Discarding event because it's not included in the random sample (sampling rate = ${i})`));const d="replay_event"===c?"replay":c;return this._prepareEvent(t,e,n,r).then((t=>{if(null===t)throw this.recordDroppedEvent("event_processor",d),Rr("An event processor returned `null`, will not send event.");if(e.data&&!0===e.data.__sentry__)return t;const n=function(t,e,n,r){const{beforeSend:o,beforeSendTransaction:i,beforeSendSpan:s}=e;let a=n;if(Mr(a)&&o)return o(a,r);if(jr(a)){if(s){const t=s(function(t){const{trace_id:e,parent_span_id:n,span_id:r,status:o,origin:i,data:s,op:a}=t.contexts?.trace??{};return{data:s??{},description:t.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:t.start_timestamp??0,status:o,timestamp:t.timestamp,trace_id:e??"",origin:i,profile_id:s?.[Ue],exclusive_time:s?.[Be],measurements:t.measurements,is_segment:!0}}(a));if(t?a=Ct(n,{type:"transaction",timestamp:(c=t).timestamp,start_timestamp:c.start_timestamp,transaction:c.description,contexts:{trace:{trace_id:c.trace_id,span_id:c.span_id,parent_span_id:c.parent_span_id,op:c.op,status:c.status,origin:c.origin,data:{...c.data,...c.profile_id&&{[Ue]:c.profile_id},...c.exclusive_time&&{[Be]:c.exclusive_time}}}},measurements:c.measurements}):dn(),a.spans){const t=[];for(const e of a.spans){const n=s(e);n?t.push(n):(dn(),t.push(e))}a.spans=t}}if(i){if(a.spans){const t=a.spans.length;a.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:t}}return i(a,r)}}var c;return a}(0,o,t,e);return function(t,e){const n=`${e} must return \`null\` or a valid event.`;if(Y(t))return t.then((t=>{if(!G(t)&&null!==t)throw Nr(n);return t}),(t=>{throw Nr(`${e} rejected with ${t}`)}));if(!G(t)&&null!==t)throw Nr(n);return t}(n,u)})).then((o=>{if(null===o){if(this.recordDroppedEvent("before_send",d),s){const e=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",e)}throw Rr(`${u} returned \`null\`, will not send event.`)}const i=n.getSession()||r.getSession();if(a&&i&&this._updateSessionFromEvent(i,o),s){const t=(o.sdkProcessingMetadata?.spanCountBeforeProcessing||0)-(o.spans?o.spans.length:0);t>0&&this.recordDroppedEvent("before_send","span",t)}const c=o.transaction_info;if(s&&c&&o.transaction!==t.transaction){const t="custom";o.transaction_info={...c,source:t}}return this.sendEvent(o,e),o})).then(null,(t=>{if(Pr(t)||qr(t))throw t;throw this.captureException(t,{data:{__sentry__:!0},originalException:t}),Nr(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${t}`)}))}_process(t){this._numProcessing++,t.then((t=>(this._numProcessing--,t)),(t=>(this._numProcessing--,t)))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map((([t,e])=>{const[n,r]=t.split(":");return{reason:n,category:r,quantity:e}}))}_flushOutcomes(){m&&N.log("Flushing outcomes...");const t=this._clearOutcomes();if(0===t.length)return void(m&&N.log("No outcomes to send"));if(!this._dsn)return void(m&&N.log("No dsn provided, will not send outcomes"));m&&N.log("Sending outcomes:",t);const e=(n=t,vr((r=this._options.tunnel&&Ye(this._dsn))?{dsn:r}:{},[[{type:"client_report"},{timestamp:o||wt(),discarded_events:n}]]));var n,r,o;this.sendEnvelope(e)}}function Mr(t){return void 0===t.type}function jr(t){return"transaction"===t.type}function $r(t,e){const n=e??Ur(t)??[];if(0===n.length)return;const r=t.getOptions(),o=function(t,e,n,r){const o={};return e?.sdk&&(o.sdk={name:e.sdk.name,version:e.sdk.version}),n&&r&&(o.dsn=Ye(r)),vr(o,[(i=t,[{type:"log",item_count:i.length,content_type:"application/vnd.sentry.items.log+json"},{items:i}])]);var i}(n,r._metadata,r.tunnel,t.getDsn());Br().set(t,[]),t.emit("flushLogs"),t.sendEnvelope(o)}function Ur(t){return Br().get(t)}function Br(){return b("clientToLogBufferMap",(()=>new WeakMap))}function zr(t){void 0===t.user?.ip_address&&(t.user={...t.user,ip_address:"{{auto}}"})}function Hr(t){"aggregates"in t?void 0===t.attrs?.ip_address&&(t.attrs={...t.attrs,ip_address:"{{auto}}"}):void 0===t.ipAddress&&(t.ipAddress="{{auto}}")}const Vr=Symbol.for("SentryBufferFullError");function Gr(t){const e=[];function n(t){return e.splice(e.indexOf(t),1)[0]||Promise.resolve(void 0)}return{$:e,add:function(r){if(!(void 0===t||e.length<t))return Me(Vr);const o=r();return-1===e.indexOf(o)&&e.push(o),o.then((()=>n(o))).then(null,(()=>n(o).then(null,(()=>{})))),o},drain:function(t){return new je(((n,r)=>{let o=e.length;if(!o)return n(!0);const i=setTimeout((()=>{t&&t>0&&n(!1)}),t);e.forEach((t=>{De(t).then((()=>{--o||(clearTimeout(i),n(!0))}),r)}))}))}}}function Fr(t,{statusCode:e,headers:n},r=Date.now()){const o={...t},i=n?.["x-sentry-rate-limits"],s=n?.["retry-after"];if(i)for(const t of i.trim().split(",")){const[e,n,,,i]=t.split(":",5),s=parseInt(e,10),a=1e3*(isNaN(s)?60:s);if(n)for(const t of n.split(";"))"metric_bucket"===t&&i&&!i.split(";").includes("custom")||(o[t]=r+a);else o.all=r+a}else s?o.all=r+function(t,e=Date.now()){const n=parseInt(`${t}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${t}`);return isNaN(r)?6e4:r-e}(s,r):429===e&&(o.all=r+6e4);return o}function Yr(t,e,n=Gr(t.bufferSize||64)){let r={};return{send:function(o){const i=[];if(br(o,((e,n)=>{const o=Sr(n);!function(t,e,n=Date.now()){return function(t,e){return t[e]||t.all||0}(t,e)>n}(r,o)?i.push(e):t.recordDroppedEvent("ratelimit_backoff",o)})),0===i.length)return De({});const s=vr(o[0],i),a=e=>{br(s,((n,r)=>{t.recordDroppedEvent(e,Sr(r))}))};return n.add((()=>e({body:wr(s)}).then((t=>(void 0!==t.statusCode&&(t.statusCode<200||t.statusCode>=300)&&m&&N.warn(`Sentry responded with status code ${t.statusCode} to sent event.`),r=Fr(r,t),t)),(t=>{throw a("network_error"),m&&N.error("Encountered error running transport request:",t),t})))).then((t=>t),(t=>{if(t===Vr)return m&&N.error("Skipped sending event because buffer is full."),a("queue_overflow"),De({});throw t}))},flush:t=>n.drain(t)}}const Wr="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Xr={};function Zr(t){const e=Xr[t];if(e)return e;let n=Ee[t];if(he(n))return Xr[t]=n.bind(Ee);const r=Ee.document;if(r&&"function"==typeof r.createElement)try{const e=r.createElement("iframe");e.hidden=!0,r.head.appendChild(e);const o=e.contentWindow;o?.[t]&&(n=o[t]),r.head.removeChild(e)}catch(e){Wr&&N.warn(`Could not create sandbox iframe for ${t} check, bailing to window.${t}: `,e)}return n?Xr[t]=n.bind(Ee):n}function Jr(t){Xr[t]=void 0}function Kr(t,e,n,r){const o={filename:t,function:"<anonymous>"===e?Yt:e,in_app:!0};return void 0!==n&&(o.lineno=n),void 0!==r&&(o.colno=r),o}const Qr=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,to=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,eo=/\((\S*)(?::(\d+))(?::(\d+))\)/,no=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,ro=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,oo=Zt(...[[30,t=>{const e=Qr.exec(t);if(e){const[,t,n,r]=e;return Kr(t,Yt,+n,+r)}const n=to.exec(t);if(n){if(n[2]&&0===n[2].indexOf("eval")){const t=eo.exec(n[2]);t&&(n[2]=t[1],n[3]=t[2],n[4]=t[3])}const[t,e]=io(n[1]||Yt,n[2]);return Kr(e,t,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],[50,t=>{const e=no.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const t=ro.exec(e[3]);t&&(e[1]=e[1]||"eval",e[3]=t[1],e[4]=t[2],e[5]="")}let t=e[3],n=e[1]||Yt;return[n,t]=io(n,t),Kr(t,n,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}]]),io=(t,e)=>{const n=-1!==t.indexOf("safari-extension"),r=-1!==t.indexOf("safari-web-extension");return n||r?[-1!==t.indexOf("@")?t.split("@")[0]:Yt,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]};var so=chrome.runtime?chrome.runtime.getManifest():{},ao=mr().filter((function(t){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(t.name)})),co=new class extends Dr{constructor(t){const e=(n=t,{release:"string"==typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:Rn.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...n});var n;!function(t,e,n=[e],r="npm"){const o=t._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${e}`,packages:n.map((t=>({name:`${r}:@sentry/${t}`,version:y}))),version:y}),t._metadata=o}(e,"browser",["browser"],Rn.SENTRY_SDK_SOURCE||"npm"),super(e);const{sendDefaultPii:r,sendClientReports:o,_experiments:i}=this._options,s=i?.enableLogs;Rn.document&&(o||s)&&Rn.document.addEventListener("visibilitychange",(()=>{"hidden"===Rn.document.visibilityState&&(o&&this._flushOutcomes(),s&&$r(this))})),s&&(this.on("flush",(()=>{$r(this)})),this.on("afterCaptureLog",(()=>{this._logFlushIdleTimeout&&clearTimeout(this._logFlushIdleTimeout),this._logFlushIdleTimeout=setTimeout((()=>{$r(this)}),5e3)}))),r&&(this.on("postprocessEvent",zr),this.on("beforeSendSession",Hr))}eventFromException(t,e){return function(t,e,n,r){const o=rr(t,e,n?.syntheticException||void 0,r);return mt(o),o.level="error",n?.event_id&&(o.event_id=n.event_id),De(o)}(this._options.stackParser,t,e,this._options.attachStacktrace)}eventFromMessage(t,e="info",n){return function(t,e,n="info",r,o){const i=or(t,e,r?.syntheticException||void 0,o);return i.level=n,r?.event_id&&(i.event_id=r.event_id),De(i)}(this._options.stackParser,t,e,n,this._options.attachStacktrace)}_prepareEvent(t,e,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,e,n,r)}}({dsn:"https://bf400567be25b62fb781201dcb9bd725@o4509712863854592.ingest.us.sentry.io/4509712864968704",integrations:ao,transport:function(t,e=Zr("fetch")){let n=0,r=0;return Yr(t,(function(o){const i=o.body.length;n+=i,r++;const s={body:o.body,method:"POST",referrerPolicy:"strict-origin",headers:t.headers,keepalive:n<=6e4&&r<15,...t.fetchOptions};if(!e)return Jr("fetch"),Me("No fetch implementation available");try{return e(t.url,s).then((t=>(n-=i,r--,{statusCode:t.status,headers:{"x-sentry-rate-limits":t.headers.get("X-Sentry-Rate-Limits"),"retry-after":t.headers.get("Retry-After")}})))}catch(t){return Jr("fetch"),n-=i,r--,Me(t)}}))},stackParser:oo,tracesSampleRate:0,environment:"content-production",release:"snipo@"+(so&&so.version?so.version:"none"),beforeSend:function(t,e){var n=e.originalException;return console.warn(n),n&&n.message&&(n.message.match(/Cannot read properties of undefined \(reading 'sendMessage'\)/i)||n.message.match(/Cannot read properties of undefined \(reading 'getURL'\)/i)||n.message.match(/Cannot read properties of undefined \(reading 'getManifest'\)/i)||n.message.match(/Cannot read properties of undefined \(reading 'sync'\)/i)||n.message.match(/Cannot read properties of undefined \(reading 'local'\)/i)||n.message.match(/ResizeObserver loop limit exceeded/i)||n.message.match(/Cannot read property 'getBoundingClientRect' of undefined/i)||n.message.match(/undefined is not an object \(evaluating 'this\.\$refs\.wrapper\.getBoundingClientRect'\)/i)||n.message.match(/this\.\$refs\.wrapper is undefined/i)||n.message.match(/Extension context invalidated/i)||n.message.match(/can't access dead object/i)||n.message.match(/Request failed/i)||n.message.match(/NetworkError when attempting to fetch resource/i)||n.message.match(/Content-Length header of network response exceeds response Body/i)||n.message.match(/too much recursion/i))?null:t}}),uo=new Rt;function lo(t){return po.apply(this,arguments)}function po(){return(po=o(s().mark((function t(e){var n,r,o,i,a,c,l,d;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.classList.contains("ytlm-active-saving")){t.next=2;break}return t.abrupt("return");case 2:for(e.preventDefault(),e.stopPropagation(),u.analytics.track("click_notebooklm"),n=document.body.getBoundingClientRect(),r=this.getBoundingClientRect(),o=r.bottom-n.top,i=r.right-n.left,document.querySelector(".ytlm-create-popup-container").style.cssText="position:absolute; top:".concat(o+8,"px; left:").concat(i-213,"px; display: block; z-index: 2019"),a=document.querySelectorAll(".ytlm-active-saving"),c=0;c<a.length;c++)a[c].classList.remove("ytlm-active-saving");this.classList.add("ytlm-active-saving"),(l=document.querySelector('[data-type="back"] input'))&&(d=l.getBoundingClientRect(),d.top>=0&&d.left>=0&&d.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&d.right<=(window.innerWidth||document.documentElement.clientWidth)&&l.focus()),chrome.runtime.sendMessage({cmd:"list-notebooklm"},(function(t){var e;if(t.err){if(u.analytics.track("list_err",{err:t.err}),alert(t.err),uo.captureException("error saving on page "+location.href+" "+t.err),"Please authorize NotebookLM to continue"===t.err){var n="";chrome.storage.sync.get(["selected_account"],(function(t){t.selected_account&&(n="?authuser=".concat(t.selected_account,"&pageId=none")),window.open("https://notebooklm.google.com/"+n)}))}}else{var r=document.querySelector(".ytlm-notebook-list"),o=document.querySelector('.ytlm-choose-notebook[data-type="back"]'),i=null==o?void 0:o.classList.contains("ytlm-choice-display-none"),s=document.querySelector('[data-type="back"] input'),a=(null==s||null===(e=s.value)||void 0===e?void 0:e.trim().toLowerCase())||"",c=!a,l=Array.from(r.querySelectorAll('.ytlm-choose-notebook:not([data-type="back"])')),d=new Map;l.forEach((function(t){d.set(t.dataset.id,t)}));var p=new Set(t.list.map((function(t){return t.id})));l.forEach((function(t){p.has(t.dataset.id)||t.remove()})),t.list.forEach((function(t){var e=d.get(t.id),n=-1!==t.name.toLowerCase().indexOf(a.toLowerCase()),o=i||!c&&!n;if(e){var s=e.querySelector(".ytlm-choice-text");s&&s.textContent!==t.name&&(s.textContent=t.name),e.classList.toggle("ytlm-choice-display-none",o)}else(e=document.createElement("div")).dataset.id=t.id,e.dataset.type="notebook",e.classList.add("ytlm-choice","ytlm-choose-notebook"),o&&e.classList.add("ytlm-choice-display-none"),e.innerHTML='\n      <div aria-disabled="false" style="--calculated-paper-checkbox-size: 14px;margin-right: 16px;">\n        <div id="checkboxContainer" class="style-scope tp-yt-paper-checkbox">\n          <div class="style-scope tp-yt-paper-checkbox" id="checkbox">\n            <div id="checkmark" class="hidden style-scope tp-yt-paper-checkbox"></div>\n          </div>\n          <tp-yt-paper-ripple id="ink" center="" class="circle style-scope tp-yt-paper-checkbox">\n            <div id="background" class="style-scope tp-yt-paper-ripple"></div>\n            <div id="waves" class="style-scope tp-yt-paper-ripple"></div>\n          </tp-yt-paper-ripple>\n        </div>\n      </div>\n      <div class="ytlm-choice-text">'.concat(t.name,"</div>\n    ");r.appendChild(e)})),document.querySelector(".ytlm-add-notebook-new-item")&&r.appendChild(document.querySelector(".ytlm-add-notebook-new-item"))}}));case 14:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function ho(t){return ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ho(t)}function fo(t){var e=function(t,e){if("object"!=ho(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ho(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ho(e)?e:e+""}function mo(t,e,n){return(e=fo(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function go(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yo(Object(n),!0).forEach((function(e){mo(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function vo(t){return _o.apply(this,arguments)}function _o(){return(_o=o(s().mark((function t(e){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.json();case 3:if(!("reload"in(n=t.sent))){t.next=6;break}return t.abrupt("return",{});case 6:return t.abrupt("return",n);case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",{});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}function bo(t){return xo.apply(this,arguments)}function xo(){return xo=o(s().mark((function t(e){var n,r,o,i,a,c,u,l,d,p,h,f=arguments;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:"en",r=f.length>2&&void 0!==f[2]?f[2]:"",o=f.length>3&&void 0!==f[3]?f[3]:"EgZ2aWRlb3PyBgQKAjoA",t.next=5,wo(e,o,n,r);case 5:return i=t.sent,t.next=8,vo(i);case 8:if(a=t.sent,c="",u=[],l=[],r){t.next=30;break}if(d=a.contents){t.next=16;break}return t.abrupt("return",{videos:[],continuation:""});case 16:if(!((p=d.twoColumnBrowseResultsRenderer.tabs).length<2)){t.next=19;break}return t.abrupt("return",{videos:[],continuation:""});case 19:if(h={},p.forEach((function(t){t&&t.tabRenderer&&t.tabRenderer.content&&t.tabRenderer.content.richGridRenderer&&t.tabRenderer.content.richGridRenderer.contents&&(h=null==t?void 0:t.tabRenderer)})),h){t.next=23;break}return t.abrupt("return",{videos:[],continuation:""});case 23:if("content"in h){t.next=25;break}return t.abrupt("return",{videos:[],continuation:""});case 25:if(h.content.richGridRenderer){t.next=27;break}return t.abrupt("return",{videos:[],continuation:""});case 27:if(0!==(u=h.content.richGridRenderer.contents).length){t.next=30;break}return t.abrupt("return",{videos:[],continuation:""});case 30:return r&&a.onResponseReceivedActions&&(u=a.onResponseReceivedActions[0].appendContinuationItemsAction.continuationItems),u.forEach((function(t){if("continuationItemRenderer"in t){var e,n;c=null!==(e=null==t||null===(n=t.continuationItemRenderer)||void 0===n||null===(n=n.continuationEndpoint)||void 0===n||null===(n=n.continuationCommand)||void 0===n?void 0:n.token)&&void 0!==e?e:""}else{var r=t.gridVideoRenderer;if("richItemRenderer"in t&&(r=t.richItemRenderer.content.videoRenderer),r){var o=!1;(r.badges||[]).forEach((function(t){"metadataBadgeRenderer"in t&&"BADGE_STYLE_TYPE_MEMBERS_ONLY"===t.metadataBadgeRenderer.style&&(o=!0)})),o||l.push("https://www.youtube.com/watch?v="+r.videoId)}}})),t.abrupt("return",{continuation:c,videos:l});case 33:case"end":return t.stop()}}),t)}))),xo.apply(this,arguments)}function wo(t){return Eo.apply(this,arguments)}function Eo(){return Eo=o(s().mark((function t(e){var n,r,o,i,a,c,u,l=arguments;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:"EgZ2aWRlb3PyBgQKAjoA",r=l.length>2&&void 0!==l[2]?l[2]:"en",o=l.length>3&&void 0!==l[3]?l[3]:"",i=Math.floor((new Date).getTime()/1e3),a=void 0===Lo("SAPISID")?Lo("__Secure-3PAPISID"):Lo("SAPISID"),t.next=7,ko(i+" "+a+" https://www.youtube.com");case 7:return c=t.sent,u={},""!==ytcfg.DELEGATED_SESSION_ID&&(u["x-goog-pageid"]=ytcfg.DELEGATED_SESSION_ID),t.abrupt("return",fetch("https://www.youtube.com/youtubei/v1/browse?key=".concat(ytcfg.INNERTUBE_API_KEY),{credentials:"include",headers:go(go({},u),{},{accept:"*/*","accept-language":ytcfg.accept_language,"cache-control":"no-cache",pragma:"no-cache",authorization:"SAPISIDHASH "+i+"_"+c,"sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","x-goog-authuser":ytcfg.SESSION_INDEX,"x-goog-visitor-id":ytcfg.visitorData,"x-spf-previous":"https://www.youtube.com/","x-spf-referer":"https://www.youtube.com/","x-youtube-client-name":ytcfg.INNERTUBE_CONTEXT_CLIENT_NAME,"x-youtube-client-version":ytcfg.INNERTUBE_CONTEXT_CLIENT_VERSION,"x-youtube-device":ytcfg.DEVICE,"x-youtube-identity-token":ytcfg.ID_TOKEN,"x-youtube-page-cl":ytcfg.PAGE_CL,"x-youtube-page-label":ytcfg.PAGE_BUILD_LABEL}),referrer:"https://www.youtube.com/",referrerPolicy:"origin-when-cross-origin",body:"{".concat(o?'"continuation":"'+o+'",':"",'"context":{"client":{"clientName":"').concat(ytcfg.INNERTUBE_CONTEXT_CLIENT_NAME,'","hl":"').concat(r,'","gl":"').concat(ytcfg.INNERTUBE_CONTEXT_GL,'","clientVersion":"').concat(ytcfg.INNERTUBE_CONTEXT_CLIENT_VERSION,'"},"request":{"internalExperimentFlags":[],"consistencyTokenJars":[]}},"browseId":"').concat(e,'","params":"').concat(n,'"}'),method:"POST",mode:"cors"}));case 11:case"end":return t.stop()}}),t)}))),Eo.apply(this,arguments)}function ko(t){return So.apply(this,arguments)}function So(){return(So=o(s().mark((function t(e){var n,r,o,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(new TextEncoder).encode(e),t.next=3,crypto.subtle.digest("SHA-1",n);case 3:return r=t.sent,o=Array.from(new Uint8Array(r)),i=o.map((function(t){return t.toString(16).padStart(2,"0")})).join(""),t.abrupt("return",i);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Lo(t){var e=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):void 0}function Co(t){return To.apply(this,arguments)}function To(){return(To=o(s().mark((function t(e){var n,r,o,i,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.indexOf("/channel/")&&0!==e.indexOf("https://www.youtube.com/channel/")){t.next=3;break}return n=e.match(/\/channel\/([a-zA-Z0-9_-]+)/),t.abrupt("return",n?n[1]:null);case 3:return t.next=5,fetch(e,{mode:"cors"});case 5:return r=t.sent,t.next=8,r.text();case 8:if(o=t.sent,i=(new window.DOMParser).parseFromString(o,"text/html"),!(a=i.querySelector('link[rel="canonical"], [itemprop="url"], meta[property="og:url"]'))){t.next=13;break}return t.abrupt("return",(a.href||a.content).replace("https://www.youtube.com/channel/","").replace("/channel/",""));case 13:return t.abrupt("return",null);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Oo(t){return Ao.apply(this,arguments)}function Ao(){return Ao=o(s().mark((function t(e){var n,r,o,i,a,c,u,l,d,p,h=arguments;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=h.length>1&&void 0!==h[1]?h[1]:"en",r=h.length>2&&void 0!==h[2]?h[2]:"",t.next=4,wo("VL"+e,"",n,r);case 4:return o=t.sent,t.next=7,vo(o);case 7:if(i=t.sent,a=[],c="",0!==Object.keys(i).length){t.next=12;break}return t.abrupt("return",{videos:[],continuation:""});case 12:if(u=[],r){t.next=23;break}if(l=i.contents){t.next=17;break}return t.abrupt("return",{videos:[],continuation:""});case 17:if("content"in(d=l.twoColumnBrowseResultsRenderer.tabs[0].tabRenderer)){t.next=20;break}return t.abrupt("return",{videos:[],continuation:""});case 20:if(u=d.content.sectionListRenderer.contents[0].itemSectionRenderer.contents[0].playlistVideoListRenderer){t.next=23;break}return t.abrupt("return",{videos:[],continuation:""});case 23:return r&&i.onResponseReceivedActions&&(u={contents:i.onResponseReceivedActions[0].appendContinuationItemsAction.continuationItems}),p=Io(u,0),a=p.responseData,c=p.continuation,t.abrupt("return",{continuation:c,videos:a});case 28:case"end":return t.stop()}}),t)}))),Ao.apply(this,arguments)}function Io(t,e){var n=[],r="",o=t.contents;return 0!==e&&(o=o.slice(0,15)),(o||[]).forEach((function(t){var e,o,i,s;"continuationItemRenderer"in t?(r=null!==(e=null==t||null===(o=t.continuationItemRenderer)||void 0===o||null===(o=o.continuationEndpoint)||void 0===o||null===(o=o.continuationCommand)||void 0===o?void 0:o.token)&&void 0!==e?e:"")||(null!==(i=null==t||null===(s=t.continuationItemRenderer)||void 0===s||null===(s=s.continuationEndpoint)||void 0===s||null===(s=s.commandExecutorCommand)||void 0===s?void 0:s.commands)&&void 0!==i?i:[]).forEach((function(t){var e,n,o;"continuationCommand"in t&&"CONTINUATION_REQUEST_TYPE_BROWSE"===(null==t||null===(e=t.continuationCommand)||void 0===e?void 0:e.request)&&(r=null!==(n=null==t||null===(o=t.continuationCommand)||void 0===o?void 0:o.token)&&void 0!==n?n:"")})):"playlistVideoRenderer"in t&&n.push("https://www.youtube.com/watch?v="+t.playlistVideoRenderer.videoId)})),{continuation:r,responseData:n}}function No(){return Ro.apply(this,arguments)}function Ro(){return(Ro=o(s().mark((function t(){var e,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="promo_rating",t.next=3,Mo([e]);case 3:if(t.sent[e]||Lo("ytlm"+e)||document.querySelector(".ytlm-promo")){t.next=11;break}return(n=document.createElement("div")).classList.add("ytlm-promo","on"),n.innerHTML=Do($o()),t.next=10,qo(e,n);case 10:u.analytics.track("show_popup_"+e);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function qo(t,e){return Po.apply(this,arguments)}function Po(){return Po=o(s().mark((function t(e,n){var r,i,a,c,l;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return document.body.appendChild(n),r=document.querySelectorAll(".ytlm-promo .ytlm-close-popup"),i="ytlm"+e,t.next=5,Bo(mo({},e,!0));case 5:for(Ho(i,1,{expires:31536e3,path:"/"}),a=0;a<r.length;a++)r[a].addEventListener("click",function(){var t=o(s().mark((function t(n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.parentNode.classList.remove("on"),n.preventDefault(),u.analytics.track("popup_"+e+"_close");case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}());for(c=document.querySelectorAll(".ytlm-promo .ytlm-promo-link"),l=0;l<c.length;l++)c[l].addEventListener("click",function(){var t=o(s().mark((function t(n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!this.dataset.rating){t.next=5;break}return u.analytics.track("rating",{type:this.dataset.rating}),t.next=5,Bo({rating:this.dataset.rating});case 5:this.dataset.href&&(u.analytics.track("popup_"+e+"_open"),window.open(this.dataset.href,"_blank")),document.querySelector(".ytlm-promo").classList.remove("on");case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}());case 9:case"end":return t.stop()}}),t)}))),Po.apply(this,arguments)}uo.setClient(co),co.init();var Do=function(t){return"".concat(Uo(t),'<div class="ytlm-rate-extension-label-general"><span>Thank you for using our extension!</span></div><form>\n\t<div class="ytlm-rate-extension-label"><span>Please rate us:</span></div>\n\t\t<div class="ytlm-stars">\n        <input type="radio" name="star" class="ytlm-star-1 ytlm-promo-link" data-rating="1" id="ytlm-star-1" />\n        <label class="ytlm-star-1" for="ytlm-star-1">1</label>\n        <input type="radio" name="star" class="ytlm-star-2 ytlm-promo-link" data-rating="2" id="ytlm-star-2" />\n        <label class="ytlm-star-2" for="ytlm-star-2">2</label>\n        <input type="radio" name="star" class="ytlm-star-3 ytlm-promo-link" data-rating="3" id="ytlm-star-3" />\n        <label class="ytlm-star-3" for="ytlm-star-3">3</label>\n        <input type="radio" name="star" class="ytlm-star-4 ytlm-promo-link" data-rating="4" id="ytlm-star-4" />\n        <label class="ytlm-star-4" for="ytlm-star-4">4</label>\n        <input type="radio" name="star" class="ytlm-star-5 ytlm-promo-link" data-rating="5" data-href="').concat(t,'" id="ytlm-star-5" />\n        <label class="ytlm-star-5" for="ytlm-star-5">5</label>\n        <span></span>\n    </div>\n</form></p>\n    </div>')};function Mo(t){return jo.apply(this,arguments)}function jo(){return(jo=o(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){chrome.storage.sync.get(e,(function(e){t(e)}))})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function $o(){return!0==navigator.userAgent.toLowerCase().indexOf("firefox")>-1?"https://addons.mozilla.org/en-US/firefox/addon/youtube-to-notebooklm/":"https://about:blank"}var Uo=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"".concat(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return'<span class="ytlm-close-popup '.concat(t,'"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" class="style-scope yt-icon" style="pointer-events: none;display: block;width: 24px;height: 24px;opacity: 0.6;fill: var(--yt-spec-text-primary);"><g class="style-scope yt-icon"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" class="style-scope yt-icon"></path></g></svg></span>')}(),'\n\t\t<div class="ytlm-promo-header"><div class="title style-scope ytd-guide-entry-renderer" id="label" style="white-space: normal;">').concat(e,'\n\t\t\t\t<a href="').concat(t,'" target="_blank">YouTube to NotebookLM</a><br>')};function Bo(t){return zo.apply(this,arguments)}function zo(){return(zo=o(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){chrome.storage.sync.set(e,(function(e){t(e)}))})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ho(t,e,n){var r=(n=n||{}).expires;if("number"==typeof r&&r){var o=new Date;o.setTime(o.getTime()+1e3*r),r=n.expires=o}r&&r.toUTCString&&(n.expires=r.toUTCString());var i=t+"="+(e=encodeURIComponent(e));for(var s in n){i+="; "+s;var a=n[s];!0!==a&&(i+="="+a)}document.cookie=i}function Vo(){return Go.apply(this,arguments)}function Go(){return(Go=o(s().mark((function t(){var n,r,o,i,a,c,l,d,p,h,f,m,y,g,v,_,b,x,w;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("choose-notebook"!==this.dataset.type){t.next=9;break}return u.analytics.track("click_choose_notebook"),document.querySelector('[data-type="create-notebook"]').classList.add("ytlm-choice-display-none"),document.querySelector('[data-type="choose-notebook"]').classList.add("ytlm-choice-display-none"),e(document.querySelectorAll(".ytlm-"+this.dataset.type)).forEach((function(t){t.classList.remove("ytlm-choice-display-none")})),(n=document.querySelector('[data-type="back"] input'))&&(r=n.getBoundingClientRect(),r.top>=0&&r.left>=0&&r.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&r.right<=(window.innerWidth||document.documentElement.clientWidth)&&(n.value="",n.focus())),t.abrupt("return");case 9:if("back"!==this.dataset.type){t.next=11;break}return t.abrupt("return");case 11:(o=this.dataset.id)?u.analytics.track("click_choose_notebook_list"):u.analytics.track("click_create_notebook_list"),i=new URL(location.href).searchParams,document.querySelector(".ytlm-active-saving .ytlm-loader").style.display="flex",document.querySelector(".ytlm-active-saving svg").style.display="none",document.querySelector(".ytlm-active-saving .ytlm-progress").textContent="Generating...",document.querySelector(".ytlm-create-popup-container")&&(document.querySelector(".ytlm-create-popup-container").style.display=""),a=[],c="",t.t0=document.querySelector(".ytlm-active-saving").dataset.ytlmType,t.next="video"===t.t0?23:"video-playlist"===t.t0?27:"playlist"===t.t0?50:"search"===t.t0?68:"channel"===t.t0?84:115;break;case 23:return a=["https://www.youtube.com/watch?v="+i.get("v")],document.querySelector('[role="main"] h1 .ytd-watch-metadata')&&(c=document.querySelector('[role="main"] h1 .ytd-watch-metadata').textContent),c||(c=document.title),t.abrupt("break",115);case 27:if(null!==i.get("list")){t.next=31;break}a=Array.from(document.querySelector(".ytlm-active-saving").closest("#container").querySelectorAll("a.ytd-playlist-panel-video-renderer")).map((function(t){var e=new URL(t.getAttribute("href"),"https://www.youtube.com");return"https://www.youtube.com/watch?v=".concat(e.searchParams.get("v"))})),t.next=47;break;case 31:if(!(navigator.userAgent.toLowerCase().indexOf("firefox")>-1)){t.next=35;break}return this.classList.contains("ytlm-add-notebook-new-item")&&(c=this.querySelector(".ytlm-choice-text strong").textContent.replace(/^"|"$/g,"")),window.postMessage({type:"ytlm-list",list:i.get("list"),ytcfg,title:c,notebookID:o},"*"),t.abrupt("return");case 35:return t.next=37,Oo(i.get("list"));case 37:l=t.sent;case 38:if(!(""!==l.continuation&&l.videos.length<300)){t.next=46;break}return t.next=41,Oo(i.get("list"),"en",l.continuation);case 41:d=t.sent,l.videos=[].concat(e(l.videos),e(d.videos)),l.continuation=d.continuation,t.next=38;break;case 46:a=l.videos;case 47:return 0===a.length&&-1!==location.href.indexOf("&list=RD")&&(a=Array.from(document.querySelector(".ytlm-active-saving").closest("#container").querySelectorAll("a.ytd-playlist-panel-video-renderer")).map((function(t){var e=new URL(t.getAttribute("href"),"https://www.youtube.com");return"https://www.youtube.com/watch?v=".concat(e.searchParams.get("v"))}))),document.querySelector('[role="main"] h3 a')&&(c=document.querySelector('[role="main"] h3 a').textContent),t.abrupt("break",115);case 50:if(!(navigator.userAgent.toLowerCase().indexOf("firefox")>-1)){t.next=54;break}return this.classList.contains("ytlm-add-notebook-new-item")&&(c=this.querySelector(".ytlm-choice-text strong").textContent.replace(/^"|"$/g,"")),window.postMessage({type:"ytlm-list",list:i.get("list"),ytcfg,title:c,notebookID:o},"*"),t.abrupt("return");case 54:return t.next=56,Oo(i.get("list"));case 56:p=t.sent;case 57:if(!(""!==p.continuation&&p.videos.length<300)){t.next=65;break}return t.next=60,Oo(i.get("list"),"en",p.continuation);case 60:h=t.sent,p.videos=[].concat(e(p.videos),e(h.videos)),p.continuation=h.continuation,t.next=57;break;case 65:return a=p.videos,document.querySelector('[role="main"] h3 a')&&(c=document.querySelector('[role="main"] h3 a').textContent),t.abrupt("break",115);case 68:f=document.querySelectorAll('[role="main"] #video-title'),m=0;case 70:if(!(m<f.length)){t.next=82;break}if(null!==f[m].getAttribute("href")){t.next=73;break}return t.abrupt("continue",79);case 73:if(0!==f[m].getAttribute("href").indexOf("/shorts/")){t.next=76;break}return a.push("https://www.youtube.com/watch?v="+f[m].getAttribute("href").replace("/shorts/","")),t.abrupt("continue",79);case 76:y=new URLSearchParams(f[m].getAttribute("href").split("?")[1]),g=y.get("v"),a.push("https://www.youtube.com/watch?v="+g);case 79:m++,t.next=70;break;case 82:return i.get("search_query")&&(c=decodeURIComponent(i.get("search_query"))),t.abrupt("break",115);case 84:return t.next=86,Co(location.href);case 86:return v=t.sent,t.next=89,bo(v);case 89:_=t.sent;case 90:if(!(""!==_.continuation&&_.videos.length<300)){t.next=98;break}return t.next=93,bo(v,"en",_.continuation);case 93:b=t.sent,_.videos=[].concat(e(_.videos),e(b.videos)),_.continuation=b.continuation,t.next=90;break;case 98:if(0!==(a=_.videos).length){t.next=112;break}return t.next=102,bo(v,"en","","EgdzdHJlYW1z8gYECgJ6AA%3D%3D");case 102:x=t.sent;case 103:if(!(""!==x.continuation&&x.videos.length<300)){t.next=111;break}return t.next=106,bo(v,"en",x.continuation,"EgdzdHJlYW1z8gYECgJ6AA%3D%3D");case 106:w=t.sent,x.videos=[].concat(e(x.videos),e(w.videos)),x.continuation=w.continuation,t.next=103;break;case 111:a=x.videos;case 112:return document.querySelector('[role="main"] .dynamic-text-view-model-wiz__h1')&&(c=document.querySelector('[role="main"] .dynamic-text-view-model-wiz__h1').textContent),document.querySelector('[role="main"] .dynamicTextViewModelH1')&&(c=document.querySelector('[role="main"] .dynamicTextViewModelH1').textContent),t.abrupt("break",115);case 115:if(0!==a.length){t.next=125;break}if(0!==location.pathname.indexOf("/live/")){t.next=119;break}return alert("Live videos are not supported"),t.abrupt("return");case 119:throw alert("Videos not found"),document.querySelector(".ytlm-active-saving .ytlm-loader").style.display="none",document.querySelector(".ytlm-active-saving svg").style.display="inline",document.querySelector(".ytlm-active-saving .ytlm-progress").textContent="",document.querySelector(".ytlm-active-saving").classList.remove("ytlm-active-saving"),new Error("error on page "+location.href);case 125:this.classList.contains("ytlm-add-notebook-new-item")&&(c=this.querySelector(".ytlm-choice-text strong").textContent.replace(/^"|"$/g,"")),chrome.runtime.sendMessage({urls:a.slice(0,300),title:c,currentURL:location.pathname+location.search,cmd:"save-to-notebooklm",notebookID:o},(function(t){if(t.err){if(u.analytics.track("save_err",{err:t.err}),alert(t.err),"Please authorize NotebookLM to continue"===t.err){var e="";chrome.storage.sync.get(["selected_account"],(function(t){t.selected_account&&(e="?authuser=".concat(t.selected_account,"&pageId=none")),window.open("https://notebooklm.google.com/"+e)}))}}else u.analytics.track("open_notebook_success"),window.open(t.url);document.querySelector(".ytlm-active-saving .ytlm-loader").style.display="none",document.querySelector(".ytlm-active-saving svg").style.display="inline",document.querySelector(".ytlm-active-saving .ytlm-progress").textContent="",document.querySelector(".ytlm-active-saving").classList.remove("ytlm-active-saving"),t.err&&uo.captureException("error saving on page "+location.href+" "+t.err),chrome.storage.local.get(["cnt"],(function(t){t&&(parseInt(t.cnt)||0)>=5&&No(),chrome.storage.local.set({cnt:(t.cnt||0)+1})}))}));case 127:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Fo(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Yo(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yo(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,i=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function Yo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Wo(){return Xo.apply(this,arguments)}function Xo(){return(Xo=o(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d("click",".ytlm-add-button",lo),d("click",".ytlm-choice",Vo),d("click",'[data-type="back"] #secondary-icon',h),e=function(t){t.forEach(o(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Zo();case 2:case"end":return t.stop()}}),t)}))))},(document.querySelector("head > title")||document.querySelector("title"))&&new MutationObserver(e).observe(document.querySelector("head > title")||document.querySelector("title"),{subtree:!0,characterData:!0,childList:!0}),chrome.storage.onChanged.addListener((function(t,e){"sync"!==e&&location.pathname+location.search in t&&"newValue"in t[location.pathname+location.search]&&document.querySelector(".ytlm-active-saving .ytlm-progress")&&(document.querySelector(".ytlm-active-saving .ytlm-progress").textContent=t[location.pathname+location.search].newValue.label)})),t.next=8,Zo();case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Zo(){return Jo.apply(this,arguments)}function Jo(){return(Jo=o(s().mark((function t(){var e,n,r,o,i,a,c,u,l,d,h,f,m,y,g,v,_,b,x,w,E,k,S,L,C,T,O,A,I;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=window.location.href.match(/watch\?/),n=window.location.href.match(/playlist\?/),r=window.location.href.match(/results\?/),o=window.location.href.match(/\/(channel\/|user|c\/|@)/),i=Ko(),!e){t.next=17;break}if(a=document.querySelector('[role="main"] yt-button-view-model.ytd-menu-renderer')){t.next=11;break}return t.next=10,p(1e3);case 10:a=document.querySelector('[role="main"] yt-button-view-model.ytd-menu-renderer');case 11:for(i.dataset.ytlmType="video",c=document.querySelectorAll(".ytlm-add-button"),u=0;u<c.length;u++)c[u].remove();a&&(a.before(i),a.closest("#actions")&&(a.closest("#actions").style.paddingRight="1px")),(l=document.querySelector('[role="main"] h3.ytd-playlist-panel-renderer'))&&((i=Ko()).addEventListener("click",lo),i.dataset.ytlmType="video-playlist",l.insertBefore(i,l.querySelector(".ytd-playlist-panel-renderer")));case 17:if(n){d=document.querySelectorAll('[role="main"] .dynamic-text-view-model-wiz__h1, [role="main"] .dynamicTextViewModelH1'),h=Fo(d);try{for(h.s();!(f=h.n()).done;){for(m=f.value,y=document.querySelectorAll(".ytlm-add-button"),i.dataset.ytlmType="playlist",g=0;g<y.length;g++)y[g].remove();m&&(m.before(i),i.querySelector("button").style.color="var(--yt-spec-overlay-text-primary)",i.querySelector("button").style.backgroundColor="var(--yt-spec-overlay-button-secondary)")}}catch(t){h.e(t)}finally{h.f()}if("WL"===new URL(location.href).searchParams.get("list")){v=document.querySelectorAll(".ytd-playlist-header-renderer>yt-dynamic-sizing-formatted-string.ytd-playlist-header-renderer .dynamic-text-container"),_=Fo(v);try{for(_.s();!(b=_.n()).done;){for(x=b.value,w=document.querySelectorAll(".ytlm-add-button"),i.dataset.ytlmType="playlist",E=0;E<w.length;E++)w[E].remove();x&&(x.appendChild(i),i.querySelector("button").style.color="var(--yt-spec-overlay-text-primary)",i.querySelector("button").style.backgroundColor="var(--yt-spec-overlay-button-secondary)",i.querySelector("button").style.float="right")}}catch(t){_.e(t)}finally{_.f()}}}if(!r){t.next=29;break}if(k=document.querySelector('[role="main"] ytd-button-renderer.ytd-search-header-renderer')){t.next=24;break}return t.next=23,p(1e3);case 23:k=document.querySelector('[role="main"] ytd-button-renderer.ytd-search-header-renderer');case 24:for(i.dataset.ytlmType="search",i.style.float="left",S=document.querySelectorAll(".ytlm-add-button"),L=0;L<S.length;L++)S[L].remove();k&&k.before(i);case 29:if(o){for(C=document.querySelector('[role="main"] .dynamic-text-view-model-wiz__h1, [role="main"] .dynamicTextViewModelH1'),i.dataset.ytlmType="channel",T=document.querySelectorAll(".ytlm-add-button"),O=0;O<T.length;O++)T[O].remove();C&&C.parentNode&&C.parentNode.appendChild(i)}for(A=document.querySelectorAll(".ytlm-create-popup-container"),I=0;I<A.length;I++)A[I].style.display="none";case 32:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ko(){var t=document.createElement("div");return t.classList.add("ytlm-add-button"),t.style.float="right",t.innerHTML='\n<button class="yt-spec-button-shape-next yt-spec-button-shape-next--tonal yt-spec-button-shape-next--mono yt-spec-button-shape-next--size-m yt-spec-button-shape-next--icon-leading-trailing yt-spec-button-shape-next--disable-text-ellipsis yt-spec-button-shape-next--enable-backdrop-filter-experiment" style="margin-left: 8px; margin-right: 8px;">\n\t<div style="display: none;position: relative;width: 25px;height: 25px;--paper-spinner-container-rotation-duration: 1568ms;--paper-spinner-expand-contract-duration: 1333ms;--paper-spinner-full-cycle-duration: 5332ms;--paper-spinner-cooldown-duration: 400ms;margin:0;" id="spinner" class="style-scope yt-next-continuation ytlm-loader" active=""> <div id="spinnerContainer" class="active  style-scope tp-yt-paper-spinner"><div class="spinner-layer layer-1 style-scope tp-yt-paper-spinner"><div class="circle-clipper left style-scope tp-yt-paper-spinner"><div class="circle style-scope tp-yt-paper-spinner"></div></div><div class="circle-clipper right style-scope tp-yt-paper-spinner"><div class="circle style-scope tp-yt-paper-spinner"></div></div></div><div class="spinner-layer layer-2 style-scope tp-yt-paper-spinner"><div class="circle-clipper left style-scope tp-yt-paper-spinner"><div class="circle style-scope tp-yt-paper-spinner"></div></div><div class="circle-clipper right style-scope tp-yt-paper-spinner"><div class="circle style-scope tp-yt-paper-spinner"></div></div></div><div class="spinner-layer layer-3 style-scope tp-yt-paper-spinner"><div class="circle-clipper left style-scope tp-yt-paper-spinner"><div class="circle style-scope tp-yt-paper-spinner"></div></div><div class="circle-clipper right style-scope tp-yt-paper-spinner"><div class="circle style-scope tp-yt-paper-spinner"></div></div></div><div class="spinner-layer layer-4 style-scope tp-yt-paper-spinner"><div class="circle-clipper left style-scope tp-yt-paper-spinner"><div class="circle style-scope tp-yt-paper-spinner"></div></div><div class="circle-clipper right style-scope tp-yt-paper-spinner"><div class="circle style-scope tp-yt-paper-spinner"></div></div></div></div> </div>\n\t<span class="ytlm-progress" style="margin-left: 8px;"></span>\n    <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 1253 132" style="width: 110px; fill:currentColor;">\n  \x3c!-- Generator: Adobe Illustrator 28.7.1, SVG Export Plug-In . SVG Version: 1.2.0 Build 142)  --\x3e\n  <g>\n    <g id="Layer_1">\n      <g>\n        <path d="M1123.69,129.13V.97h26.49l37.41,97.55h1.08L1226.26.97h26.49v128.16h-19.33V56.64l1.07-22.73h-1.07l-37.42,95.23h-15.57l-37.41-95.23h-1.07l1.07,22.73v72.5h-19.33Z"></path>\n        <path d="M1034.14,129.13V.97h19.69v109.55h55.13v18.62h-74.82Z"></path>\n        <path d="M941.02,129.13V.97h19.33v75.54l38.66-38.66h23.98v1.07l-35.26,34.9,36.51,54.24v1.07h-22.91l-27.21-41.89-13.78,13.6v28.28h-19.33Z"></path>\n        <path d="M881.84,132c-9.43,0-17.72-2.15-24.88-6.44-7.16-4.3-12.77-10.08-16.83-17.36-4.06-7.4-6.09-15.63-6.09-24.7s2.03-17.24,6.09-24.52c4.06-7.4,9.67-13.25,16.83-17.54,7.16-4.3,15.45-6.44,24.88-6.44s17.54,2.21,24.7,6.62c7.16,4.3,12.77,10.08,16.83,17.36,4.06,7.28,6.09,15.45,6.09,24.52s-2.03,17.3-6.09,24.7c-4.06,7.28-9.67,13.07-16.83,17.36s-15.39,6.44-24.7,6.44ZM881.84,114.28c5.01,0,9.67-1.19,13.96-3.58,4.3-2.51,7.76-6.03,10.38-10.56,2.74-4.65,4.12-10.2,4.12-16.65s-1.37-11.93-4.12-16.47c-2.63-4.65-6.09-8.17-10.38-10.56-4.3-2.51-8.95-3.76-13.96-3.76s-9.73,1.25-14.14,3.76c-4.3,2.39-7.82,5.91-10.56,10.56-2.63,4.53-3.94,10.02-3.94,16.47s1.31,11.99,3.94,16.65c2.74,4.53,6.32,8.06,10.74,10.56,4.41,2.39,9.07,3.58,13.96,3.58Z"></path>\n        <path d="M778.84,132c-9.43,0-17.72-2.15-24.88-6.44-7.16-4.3-12.77-10.08-16.83-17.36-4.06-7.4-6.09-15.63-6.09-24.7s2.03-17.24,6.09-24.52c4.06-7.4,9.67-13.25,16.83-17.54,7.16-4.3,15.45-6.44,24.88-6.44s17.54,2.21,24.7,6.62c7.16,4.3,12.77,10.08,16.83,17.36,4.06,7.28,6.09,15.45,6.09,24.52s-2.03,17.3-6.09,24.7c-4.06,7.28-9.67,13.07-16.83,17.36-7.16,4.3-15.39,6.44-24.7,6.44ZM778.84,114.28c5.01,0,9.67-1.19,13.96-3.58,4.3-2.51,7.76-6.03,10.38-10.56,2.74-4.65,4.12-10.2,4.12-16.65s-1.37-11.93-4.12-16.47c-2.63-4.65-6.09-8.17-10.38-10.56-4.3-2.51-8.95-3.76-13.96-3.76s-9.73,1.25-14.14,3.76c-4.3,2.39-7.82,5.91-10.56,10.56-2.63,4.53-3.94,10.02-3.94,16.47s1.31,11.99,3.94,16.65c2.74,4.53,6.32,8.06,10.74,10.56,4.41,2.39,9.07,3.58,13.96,3.58Z"></path>\n        <path d="M679.63,132c-4.65,0-8.89-.72-12.71-2.15-3.82-1.43-7.16-3.28-10.02-5.55-2.74-2.39-4.95-4.83-6.62-7.34h-1.07v12.17h-18.26V.97h19.33v36.52l-1.07,12.71h1.07c1.67-2.63,3.88-5.07,6.62-7.34,2.86-2.39,6.21-4.3,10.02-5.73,3.82-1.43,8.06-2.15,12.71-2.15,8.35,0,15.81,2.09,22.38,6.26,6.56,4.18,11.75,9.9,15.57,17.18,3.94,7.28,5.91,15.63,5.91,25.06s-1.97,17.78-5.91,25.06c-3.82,7.28-9.01,13.01-15.57,17.18-6.56,4.18-14.02,6.26-22.38,6.26ZM676.77,114.28c4.77,0,9.25-1.25,13.42-3.76,4.3-2.51,7.7-6.09,10.2-10.74,2.62-4.65,3.94-10.08,3.94-16.29s-1.31-11.75-3.94-16.29c-2.51-4.65-5.91-8.23-10.2-10.74-4.18-2.51-8.65-3.76-13.42-3.76s-9.25,1.25-13.42,3.76-7.58,6.09-10.2,10.74c-2.63,4.53-3.94,9.96-3.94,16.29s1.31,11.81,3.94,16.47c2.62,4.54,6.03,8.06,10.2,10.56,4.18,2.51,8.65,3.76,13.42,3.76Z"></path>\n        <path d="M575.06,132c-8.95,0-16.94-2.09-23.99-6.26-7.04-4.18-12.59-9.9-16.65-17.18-3.94-7.28-5.91-15.57-5.91-24.88,0-8.71,1.91-16.77,5.73-24.17,3.82-7.4,9.13-13.31,15.93-17.72,6.92-4.53,14.86-6.8,23.81-6.8,9.43,0,17.42,2.03,23.99,6.09,6.68,4.06,11.75,9.61,15.21,16.65,3.46,7.04,5.19,14.98,5.19,23.81,0,1.31-.06,2.51-.18,3.58,0,1.07-.06,1.91-.18,2.51h-70.53c.48,5.01,1.73,9.37,3.76,13.07,2.62,4.65,6.09,8.17,10.38,10.56,4.3,2.39,8.95,3.58,13.96,3.58,6.09,0,11.16-1.37,15.21-4.12,4.18-2.86,7.46-6.38,9.85-10.56l15.93,7.7c-3.94,7.16-9.31,13.01-16.11,17.54-6.8,4.42-15.28,6.62-25.42,6.62ZM548.57,73.11h50.66c-.12-2.27-.72-4.65-1.79-7.16-1.07-2.63-2.62-5.01-4.65-7.16s-4.59-3.88-7.7-5.19c-3.1-1.43-6.74-2.15-10.92-2.15-5.25,0-9.91,1.37-13.96,4.12-4.06,2.63-7.22,6.32-9.49,11.1-.95,2.03-1.67,4.18-2.15,6.44Z"></path>\n        <path d="M466.03,37.85h15.93V12.07h19.33v25.78h22.38v16.83h-22.38v43.85c0,4.53.9,7.99,2.68,10.38,1.91,2.39,5.07,3.58,9.49,3.58,2.15,0,4.06-.3,5.73-.89,1.67-.72,3.34-1.55,5.01-2.51v18.8c-2.03.83-4.18,1.49-6.44,1.97-2.27.48-4.95.72-8.05.72-8.47,0-15.22-2.45-20.23-7.34-5.01-5.01-7.52-11.87-7.52-20.58v-47.97h-15.93v-16.83Z"></path>\n        <path d="M414.87,132c-9.43,0-17.72-2.15-24.88-6.44s-12.77-10.08-16.83-17.36c-4.06-7.4-6.09-15.63-6.09-24.7s2.03-17.24,6.09-24.52c4.06-7.4,9.67-13.25,16.83-17.54,7.16-4.3,15.45-6.44,24.88-6.44s17.54,2.21,24.7,6.62c7.16,4.3,12.77,10.08,16.83,17.36,4.06,7.28,6.09,15.45,6.09,24.52s-2.03,17.3-6.09,24.7c-4.06,7.28-9.67,13.07-16.83,17.36s-15.39,6.44-24.7,6.44ZM414.87,114.28c5.01,0,9.67-1.19,13.96-3.58,4.3-2.51,7.76-6.03,10.38-10.56,2.74-4.65,4.12-10.2,4.12-16.65s-1.37-11.93-4.12-16.47c-2.62-4.65-6.09-8.17-10.38-10.56-4.3-2.51-8.95-3.76-13.96-3.76s-9.73,1.25-14.14,3.76c-4.3,2.39-7.82,5.91-10.56,10.56-2.62,4.53-3.94,10.02-3.94,16.47s1.31,11.99,3.94,16.65c2.74,4.53,6.32,8.06,10.74,10.56,4.42,2.39,9.07,3.58,13.96,3.58Z"></path>\n        <path d="M252.55,129.13V.97h23.27l58,94.15h1.07l-1.07-24.7V.97h19.51v128.16h-20.41l-60.86-98.99h-1.07l1.07,24.7v74.29h-19.51Z"></path>\n        <path d="M87.27,1.14C39.07,1.14,0,39.88,0,87.69v41.44h16.09v-4.13c0-19.39,15.84-35.11,35.39-35.11s35.39,15.72,35.39,35.11v4.13h16.09v-4.13c0-28.2-23.05-51.05-51.48-51.05-11.07,0-21.32,3.46-29.72,9.37,8.79-17.32,26.88-29.21,47.77-29.21,29.51,0,53.44,23.74,53.44,53v22.02h16.09v-22.02c0-38.08-31.13-68.96-69.53-68.96-17.27,0-33.06,6.24-45.22,16.58,11.94-22.39,35.65-37.64,62.97-37.64,39.32,0,71.19,31.61,71.19,70.6v41.44h16.09v-41.44C174.55,39.88,135.48,1.14,87.27,1.14Z"></path>\n      </g>\n    </g>\n  </g>\n</svg>\n  </button>\n',t}function Qo(t,e){for(var n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;t&&!n.call(t,e);)t=t.parentElement;return t}ytcfg=window.ytcfg=window.ytcfg||{};var ti=function(){var t=o(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){chrome.storage.sync.get(e,(function(e){t(e)}))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function ei(){try{return window.self!==window.top}catch(t){return!0}}function ni(){return ni=o(s().mark((function t(){var n,r,i,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ti(["install_date","uuid"]);case 2:if(n=t.sent,u.analytics.init("removed","uuid"in n?n.uuid:"unknown","install_date"in n?n.install_date:(new Date).getTime()),"notebooklm.google.com"===location.host||ei()||(r=document.createElement("a"))&&r.style&&(r.style.position="fixed",r.style.bottom="-40px",r.style.left="50%",r.style.zIndex="9999",r.style.transform="translateX(-50%)",r.style.backgroundColor="transparent",r.style.borderRadius="5px 5px 0px 0px",r.style.opacity="0.3",r.style.padding="5px",r.id="bottomBar",r.style.transition="0.3s",r.style.cursor="pointer",r.style.maxHeight="100px",r.style.left="0px",r.style.maxWidth="45px",r.addEventListener("mouseover",(function(){r.style.opacity="0.5",r.style.bottom="0",r.style.left="20px"})),r.addEventListener("mouseout",(function(){r.style.opacity="0.3",r.style.bottom="-40px",r.style.left="0px",r.onclick=function(){window.open("https://notebooklm.google.com/"),u.analytics.track("open_notebook_page_click")}})),i=chrome.runtime.getURL("icon/icon_32.png"),r.innerHTML='<img src="'.concat(i,'" style="width: 32px; height: 32px;"/>'),document.body&&document.body.appendChild(r)),"www.youtube.com"!==location.host){t.next=15;break}return navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&((a=document.createElement("script")).src=browser.runtime.getURL("/build/inpage.js"),a.onload=function(){return a.remove()},(document.head||document.documentElement).appendChild(a),window.addEventListener("message",(function(t){if(t.data&&t.data.type&&"ytlm-list-response"===t.data.type){var e=t.data.list;if(0===e.length&&-1!==location.href.indexOf("&list=RD")&&(e=Array.from(document.querySelector(".ytlm-active-saving").closest("#container").querySelectorAll("a.ytd-playlist-panel-video-renderer")).map((function(t){var e=new URL(t.getAttribute("href"),"https://www.youtube.com");return"https://www.youtube.com/watch?v=".concat(e.searchParams.get("v"))}))),0===e.length)throw alert("Videos not found"),document.querySelector(".ytlm-active-saving .ytlm-loader").style.display="none",document.querySelector(".ytlm-active-saving svg").style.display="inline",document.querySelector(".ytlm-active-saving .ytlm-progress").textContent="",document.querySelector(".ytlm-active-saving").classList.remove("ytlm-active-saving"),new Error("error on page "+location.href);chrome.runtime.sendMessage({urls:e.slice(0,300),title:t.data.title,currentURL:location.pathname+location.search,cmd:"save-to-notebooklm",notebookID:t.data.notebookID},(function(t){if(t.err){if(alert(t.err),"Please authorize NotebookLM to continue"===t.err){var e="";chrome.storage.sync.get(["selected_account"],(function(t){t.selected_account&&(e="?authuser=".concat(t.selected_account,"&pageId=none")),window.open("https://notebooklm.google.com/"+e)}))}}else window.open(t.url);document.querySelector(".ytlm-active-saving .ytlm-loader").style.display="none",document.querySelector(".ytlm-active-saving svg").style.display="inline",document.querySelector(".ytlm-active-saving .ytlm-progress").textContent="",document.querySelector(".ytlm-active-saving").classList.remove("ytlm-active-saving")}))}}))),l(),c=void 0,(c=document.createElement("div")).innerHTML='\n\t\t\t<div class="ytlm-create-popup">\n\t\t\t\t\t\t  <div class="ytlm-create-popup-list">\n\t\t\t\t\t\t\t  <div data-type="create-notebook" class="ytlm-choice">\n\t\t\t\t\t\t\t\t  <div id="secondary-icon" class="style-scope ytd-toggle-theme-compact-link-renderer ytlm-choice-icon">\x3c!--css-build:shady--\x3e\x3c!--css-build:shady--\x3e<span class="yt-icon-shape style-scope yt-icon yt-spec-icon-shape"><div style="width: 100%; height: 100%; display: block; fill: currentcolor;"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24" focusable="false" aria-hidden="true" style="pointer-events: none; display: inherit; width: 100%; height: 100%;"><path d="M20 12h-8v8h-1v-8H3v-1h8V3h1v8h8v1z"></path></svg></div></span></div>\n\t\t\t\t\t\t\t\t  <div class="ytlm-choice-text">\n\t\t\t\tCreate New Notebook\n\t\t\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t\t  <div data-type="choose-notebook" class="ytlm-choice" style="border-bottom: 0;">\n\t\t\t\t\t\t\t      <div id="secondary-icon" class="style-scope ytd-toggle-theme-compact-link-renderer ytlm-choice-icon">\x3c!--css-build:shady--\x3e\x3c!--css-build:shady--\x3e<span class="yt-icon-shape style-scope yt-icon yt-spec-icon-shape"><div style="width: 100%; height: 100%; display: block; fill: currentcolor;"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24" focusable="false" aria-hidden="true" style="pointer-events: none; display: inherit; width: 100%; height: 100%;"><path d="M18 4v15.06l-5.42-3.87-.58-.42-.58.42L6 19.06V4h12m1-1H5v18l7-5 7 5V3z"></path></svg></div></span></div>\n\t\t\t\t\t\t\t\t  <div class="ytlm-choice-text">\n\t\t\t\tChoose Notebook\n\t\t\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t\t  <div data-type="back" class="ytlm-choice ytlm-choose-notebook ytlm-choice-display-none" >\n\t\t\t\t\t\t\t\t  <div id="secondary-icon" class="style-scope ytd-toggle-theme-compact-link-renderer" style="margin-right: 12px;>\x3c!--css-build:shady--\x3e\x3c!--css-build:shady--\x3e<span class="yt-icon-shape style-scope yt-icon yt-spec-icon-shape"><div style="width: 100%; height: 100%; display: block; fill: currentcolor;"><svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24" focusable="false" aria-hidden="true" style="pointer-events: none; display: inherit; width: 100%; height: 100%;"><path d="M21 11v1H5.64l6.72 6.72-.71.71-7.93-7.93 7.92-7.92.71.71L5.64 11H21z"></path></svg></div></span></div>\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t   <div class="ytlm-choice-text title style-scope ytd-guide-entry-renderer">\n\t\t\t\t\t\t\t\t\t\t<input style="outline: none;position: relative; outline: none; box-shadow: none; padding: var(--paper-input-container-shared-input-style-padding, 0); margin: 8px 0; width: var(--paper-input-container-shared-input-style-width, 100%); max-width: 100%; background: transparent; border: none;color: var(--paper-input-container-input-color, var(--primary-text-color)); -webkit-appearance: none; text-align: inherit; vertical-align: var(--paper-input-container-input-align, bottom); font-family: &quot;Roboto&quot;, &quot;Noto&quot;, sans-serif; -webkit-font-smoothing: antialiased; font-size: 16px; font-weight: 400; line-height: 24px; font-family: inherit; font-weight: inherit; font-size: inherit; letter-spacing: inherit; word-spacing: inherit; line-height: inherit; text-shadow: inherit; color: inherit; cursor: inherit;" class="ytd-searchbox ytlm-search-playlist" dir="ltr" aria-autocomplete="list" aria-haspopup="false" role="combobox" aria-label="Search" placeholder="Search..." spellcheck="false" type="text" tabindex="0" name="search_query" autocomplete="off" autocapitalize="none" id="search">\n\t\t\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t\t  <div class="ytlm-notebook-list">\n\t\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t  </div>\n\n\t\t \t</div>\n  ',c.classList="ytlm-create-popup-container",document.body&&document.body.appendChild(c),document.querySelector(".ytlm-create-popup-container input")&&document.querySelector(".ytlm-create-popup-container input").addEventListener("input",(function(){var t=this,e=document.querySelectorAll('.ytlm-choose-notebook:not([data-type="back"]:not(.ytlm-add-notebook-new-item))'),n=!0;if(e.forEach(function(){var e=o(s().mark((function e(r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:-1===r.querySelector(".ytlm-choice-text").textContent.toLowerCase().indexOf(t.value.toLowerCase())?r.classList.add("ytlm-choice-display-none"):r.classList.remove("ytlm-choice-display-none"),r.querySelector(".ytlm-choice-text").textContent.toLowerCase()===t.value.toLowerCase()&&(n=!1);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.value&&n)if(document.querySelector(".ytlm-add-notebook-new-item"))document.querySelector(".ytlm-add-notebook-new-item .ytlm-choice-text").innerHTML='Create&nbsp<strong>"'.concat(this.value,'"</strong>');else{var r=document.createElement("div");r.dataset.id="",r.dataset.type="notebook",r.classList.add("ytlm-choice","ytlm-add-notebook-new-item"),r.innerHTML='\n\t  <div id="secondary-icon" class="style-scope ytd-toggle-theme-compact-link-renderer ytlm-choice-icon">\x3c!--css-build:shady--\x3e\x3c!--css-build:shady--\x3e<span class="yt-icon-shape style-scope yt-icon yt-spec-icon-shape"><div style="width: 100%; height: 100%; display: block; fill: currentcolor;"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24" focusable="false" aria-hidden="true" style="pointer-events: none; display: inherit; width: 100%; height: 100%;"><path d="M20 12h-8v8h-1v-8H3v-1h8V3h1v8h8v1z"></path></svg></div></span></div>\n      <div class="ytlm-choice-text">Create&nbsp<strong>"'.concat(this.value,'"</strong></div>\n    '),document.querySelector(".ytlm-notebook-list").appendChild(r)}else document.querySelector(".ytlm-add-notebook-new-item")&&document.querySelector(".ytlm-add-notebook-new-item").remove()})),t.next=12,Wo();case 12:document.addEventListener("click",(function(t){var e=t.target;if(!Qo(e,".ytlm-create-popup-container")&&!Qo(e,".ytlm-add-button")){document.querySelector(".ytlm-create-popup-container")&&(document.querySelector(".ytlm-create-popup-container").style.display="");for(var n=document.querySelectorAll(".ytlm-active-saving"),r=0;r<n.length;r++)n[r].classList.remove("ytlm-active-saving")}})),chrome.runtime.onMessage.addListener(function(){var t=o(s().mark((function t(n,r,o){var i,a,c,l,d,p,h,f,m,y,g,v,_,b,x,w,E,k,S,L,C,T,O,A,I,N,R,q,P;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("save-to-notebooklm"!==n.cmd){t.next=152;break}if(i=[],a="",(c=n.notebookID)?u.analytics.track("click_choose_notebook_list"):u.analytics.track("click_create_notebook_list"),!document.querySelector('.ytlm-add-button[data-ytlm-type="video-playlist"]')){t.next=9;break}document.querySelector('.ytlm-add-button[data-ytlm-type="video-playlist"]').parentNode.querySelector("[is-empty]")?document.querySelector('.ytlm-add-button[data-ytlm-type="video"]')&&document.querySelector('.ytlm-add-button[data-ytlm-type="video"]').classList.add("ytlm-active-saving"):document.querySelector('.ytlm-add-button[data-ytlm-type="video-playlist"]').classList.add("ytlm-active-saving"),t.next=38;break;case 9:if(document.querySelector(".ytlm-add-button")){t.next=37;break}l=document.querySelectorAll('[role="main"] a#video-title, [role="main"] a#video-title-link'),d=0;case 12:if(!(d<l.length)){t.next=24;break}if(null!==l[d].getAttribute("href")){t.next=15;break}return t.abrupt("continue",21);case 15:if(0!==l[d].getAttribute("href").indexOf("/shorts/")){t.next=18;break}return i.push("https://www.youtube.com/watch?v="+l[d].getAttribute("href").replace("/shorts/","")),t.abrupt("continue",21);case 18:p=new URLSearchParams(l[d].getAttribute("href").split("?")[1]),h=p.get("v"),i.push("https://www.youtube.com/watch?v="+h);case 21:d++,t.next=12;break;case 24:if(0===location.pathname.indexOf("/shorts/")&&(f=location.pathname.match(/\/shorts\/([a-zA-Z0-9_-]+)/),(m=f?f[1]:null)&&i.push("https://www.youtube.com/watch?v="+m)),0===location.pathname.indexOf("/embed/")&&(y=location.pathname.match(/\/embed\/([a-zA-Z0-9_-]+)/),(g=y?y[1]:null)&&i.push("https://www.youtube.com/watch?v="+g)),0!==i.length){t.next=33;break}if(0!==location.pathname.indexOf("/live/")){t.next=30;break}return alert("Live videos are not supported"),t.abrupt("return");case 30:throw alert("Videos not found"),u.analytics.track("videos_empty"),new Error("error on page "+location.href);case 33:return n.title&&(a=n.title),chrome.runtime.sendMessage({urls:i.slice(0,300),title:a,currentURL:location.pathname+location.search,cmd:"save-to-notebooklm",notebookID:c},(function(t){if(t.err){if(u.analytics.track("save_err",{err:t.err}),alert(t.err),uo.captureException("error saving on page "+location.href+" "+t.err),"Please authorize NotebookLM to continue"===t.err){var e="";chrome.storage.sync.get(["selected_account"],(function(t){t.selected_account&&(e="?authuser=".concat(t.selected_account,"&pageId=none")),window.open("https://notebooklm.google.com/"+e)}))}}else u.analytics.track("open_notebook_success"),window.open(t.url)})),o({status:"ok"}),t.abrupt("return");case 37:document.querySelector(".ytlm-add-button").classList.add("ytlm-active-saving");case 38:v=new URL(location.href).searchParams,document.querySelector(".ytlm-active-saving .ytlm-loader").style.display="flex",document.querySelector(".ytlm-active-saving svg").style.display="none",document.querySelector(".ytlm-active-saving .ytlm-progress").textContent="Generating...",document.querySelector(".ytlm-create-popup-container")&&(document.querySelector(".ytlm-create-popup-container").style.display=""),t.t0=document.querySelector(".ytlm-active-saving").dataset.ytlmType,t.next="video"===t.t0?46:"video-playlist"===t.t0?50:"playlist"===t.t0?72:"search"===t.t0?89:"channel"===t.t0?105:136;break;case 46:return i=["https://www.youtube.com/watch?v="+v.get("v")],document.querySelector('[role="main"] h1 .ytd-watch-metadata')&&(a=document.querySelector('[role="main"] h1 .ytd-watch-metadata').textContent),a||(a=document.title),t.abrupt("break",136);case 50:if(null!==v.get("list")){t.next=54;break}i=Array.from(document.querySelector(".ytlm-active-saving").closest("#container").querySelectorAll("a.ytd-playlist-panel-video-renderer")).map((function(t){var e=new URL(t.getAttribute("href"),"https://www.youtube.com");return"https://www.youtube.com/watch?v=".concat(e.searchParams.get("v"))})),t.next=69;break;case 54:if(!(navigator.userAgent.toLowerCase().indexOf("firefox")>-1)){t.next=57;break}return window.postMessage({type:"ytlm-list",list:v.get("list"),ytcfg,title:n.title,notebookID:c},"*"),t.abrupt("return");case 57:return t.next=59,Oo(v.get("list"));case 59:_=t.sent;case 60:if(!(""!==_.continuation&&_.videos.length<300)){t.next=68;break}return t.next=63,Oo(v.get("list"),"en",_.continuation);case 63:b=t.sent,_.videos=[].concat(e(_.videos),e(b.videos)),_.continuation=b.continuation,t.next=60;break;case 68:i=_.videos;case 69:return 0===i.length&&-1!==location.href.indexOf("&list=RD")&&(i=Array.from(document.querySelector(".ytlm-active-saving").closest("#container").querySelectorAll("a.ytd-playlist-panel-video-renderer")).map((function(t){var e=new URL(t.getAttribute("href"),"https://www.youtube.com");return"https://www.youtube.com/watch?v=".concat(e.searchParams.get("v"))}))),document.querySelector('[role="main"] h3 a')&&(a=document.querySelector('[role="main"] h3 a').textContent),t.abrupt("break",136);case 72:if(!(navigator.userAgent.toLowerCase().indexOf("firefox")>-1)){t.next=75;break}return window.postMessage({type:"ytlm-list",list:v.get("list"),ytcfg,title:n.title,notebookID:c},"*"),t.abrupt("return");case 75:return t.next=77,Oo(v.get("list"));case 77:x=t.sent;case 78:if(!(""!==x.continuation&&x.videos.length<300)){t.next=86;break}return t.next=81,Oo(v.get("list"),"en",x.continuation);case 81:w=t.sent,x.videos=[].concat(e(x.videos),e(w.videos)),x.continuation=w.continuation,t.next=78;break;case 86:return i=x.videos,document.querySelector('[role="main"] h3 a')&&(a=document.querySelector('[role="main"] h3 a').textContent),t.abrupt("break",136);case 89:E=document.querySelectorAll('[role="main"] a#video-title'),k=0;case 91:if(!(k<E.length)){t.next=103;break}if(null!==E[k].getAttribute("href")){t.next=94;break}return t.abrupt("continue",100);case 94:if(0!==E[k].getAttribute("href").indexOf("/shorts/")){t.next=97;break}return i.push("https://www.youtube.com/watch?v="+E[k].getAttribute("href").replace("/shorts/","")),t.abrupt("continue",100);case 97:S=new URLSearchParams(E[k].getAttribute("href").split("?")[1]),L=S.get("v"),i.push("https://www.youtube.com/watch?v="+L);case 100:k++,t.next=91;break;case 103:return v.get("search_query")&&(a=decodeURIComponent(v.get("search_query"))),t.abrupt("break",136);case 105:return t.next=107,Co(location.href);case 107:return C=t.sent,t.next=110,bo(C);case 110:T=t.sent;case 111:if(!(""!==T.continuation&&T.videos.length<300)){t.next=119;break}return t.next=114,bo(C,"en",T.continuation);case 114:O=t.sent,T.videos=[].concat(e(T.videos),e(O.videos)),T.continuation=O.continuation,t.next=111;break;case 119:if(0!==(i=T.videos).length){t.next=133;break}return t.next=123,bo(C,"en","","EgdzdHJlYW1z8gYECgJ6AA%3D%3D");case 123:A=t.sent;case 124:if(!(""!==A.continuation&&A.videos.length<300)){t.next=132;break}return t.next=127,bo(C,"en",A.continuation,"EgdzdHJlYW1z8gYECgJ6AA%3D%3D");case 127:I=t.sent,A.videos=[].concat(e(A.videos),e(I.videos)),A.continuation=I.continuation,t.next=124;break;case 132:i=A.videos;case 133:return document.querySelector('[role="main"] .dynamic-text-view-model-wiz__h1')&&(a=document.querySelector('[role="main"] .dynamic-text-view-model-wiz__h1').textContent),document.querySelector('[role="main"] .dynamicTextViewModelH1')&&(a=document.querySelector('[role="main"] .dynamicTextViewModelH1').textContent),t.abrupt("break",136);case 136:if(0===location.pathname.indexOf("/shorts/")&&(N=location.pathname.match(/\/shorts\/([a-zA-Z0-9_-]+)/),(R=N?N[1]:null)&&i.push("https://www.youtube.com/watch?v="+R)),0===location.pathname.indexOf("/embed/")&&(q=location.pathname.match(/\/embed\/([a-zA-Z0-9_-]+)/),(P=q?q[1]:null)&&i.push("https://www.youtube.com/watch?v="+P)),0!==i.length){t.next=149;break}if(0!==location.pathname.indexOf("/live/")){t.next=142;break}return alert("Live videos are not supported"),t.abrupt("return");case 142:throw alert("Videos not found"),document.querySelector(".ytlm-active-saving .ytlm-loader").style.display="none",document.querySelector(".ytlm-active-saving svg").style.display="inline",document.querySelector(".ytlm-active-saving .ytlm-progress").textContent="",document.querySelector(".ytlm-active-saving").classList.remove("ytlm-active-saving"),u.analytics.track("videos_empty"),new Error("error on page "+location.href);case 149:n.title&&(a=n.title),chrome.runtime.sendMessage({urls:i.slice(0,300),title:a,currentURL:location.pathname+location.search,cmd:"save-to-notebooklm",notebookID:c},(function(t){if(t.err){if(u.analytics.track("save_err",{err:t.err}),alert(t.err),"Please authorize NotebookLM to continue"===t.err){var e="";chrome.storage.sync.get(["selected_account"],(function(t){t.selected_account&&(e="?authuser=".concat(t.selected_account,"&pageId=none")),window.open("https://notebooklm.google.com/"+e)}))}}else u.analytics.track("open_notebook_success"),window.open(t.url);document.querySelector(".ytlm-active-saving .ytlm-loader").style.display="none",document.querySelector(".ytlm-active-saving svg").style.display="inline",document.querySelector(".ytlm-active-saving .ytlm-progress").textContent="",document.querySelector(".ytlm-active-saving").classList.remove("ytlm-active-saving"),t.err&&uo.captureException("error saving on page "+location.href+" "+t.err),chrome.storage.local.get(["cnt"],(function(t){t&&(parseInt(t.cnt)||0)>=5&&No(),chrome.storage.local.set({cnt:(t.cnt||0)+1})}))})),o({status:"ok"});case 152:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()),Lo("ytlm-render")||ei()||(u.analytics.track("render_youtube"),Ho("ytlm-render",1,{expires:43200,path:"/"}));case 15:location.host.indexOf(".udemy.com")>-1&&!ei()&&(Lo("ytlm-render")||(u.analytics.track("udemy_render"),Ho("ytlm-render",1,{expires:43200,path:"/"}))),location.host.indexOf(".coursera.org")>-1&&!ei()&&(Lo("ytlm-render")||(u.analytics.track("coursera_render"),Ho("ytlm-render",1,{expires:43200,path:"/"})));case 17:case"end":return t.stop()}var c}),t)}))),ni.apply(this,arguments)}var ri=!1;function oi(){ri||"complete"!==document.readyState||(ri=!0,document.removeEventListener("readystatechange",oi),function(){ni.apply(this,arguments)}())}document.addEventListener("readystatechange",oi),oi(),window.onerror=function(t,e,n,r,o){"www.youtube.com"===location.host&&o&&uo.captureException(o)},window.onunhandledrejection=function(t){"www.youtube.com"===location.host&&t.reason&&uo.captureException(t.reason)}})()})();